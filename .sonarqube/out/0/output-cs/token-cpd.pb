Â
KC:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\App_Start\BundleConfig.cs
	namespace 	
PawnshopUnchuMVC
 
{ 
public 

class 
BundleConfig 
{ 
public		 
static		 
void		 
RegisterBundles		 *
(		* +
BundleCollection		+ ;
bundles		< C
)		C D
{

 	
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) ;
); <
.< =
Include= D
(D E
$str 1
)1 2
)2 3
;3 4
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str 4
)4 5
)5 6
;6 7
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str /
)/ 0
)0 1
;1 2
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str 9
,9 :
$str 6
,6 7
$str @
,@ A
$str 6
,6 7
$str 2
,2 3
$str 1
,1 2
$str )
,) *
$str 1
,1 2
$str 4
,4 5
$str   4
,  4 5
$str!! 3
,!!3 4
$str"" :
)## 
)## 
;## 
bundles%% 
.%% 
Add%% 
(%% 
new%% 
StyleBundle%% '
(%%' (
$str%%( 7
)%%7 8
.%%8 9
Include%%9 @
(%%@ A
$str&& /
,&&/ 0
$str'' *
,''* +
$str(( )
,(() *
$str)) 0
,))0 1
$str** -
,**- .
$str++ ;
,++; <
$str,, .
,,,. /
$str-- 3
).. 
).. 
;.. 
}// 	
}00 
}11 ˛
KC:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\App_Start\FilterConfig.cs
	namespace 	
PawnshopUnchuMVC
 
{ 
public 

class 
FilterConfig 
{ 
public 
static 
void !
RegisterGlobalFilters 0
(0 1"
GlobalFilterCollection1 G
filtersH O
)O P
{		 	
filters

 
.

 
Add

 
(

 
new

  
HandleErrorAttribute

 0
(

0 1
)

1 2
)

2 3
;

3 4
} 	
} 
} ‹
JC:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\App_Start\RouteConfig.cs
	namespace 	
PawnshopUnchuMVC
 
{		 
public

 

class

 
RouteConfig

 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
name 
: 
$str 
,  
url 
: 
$str 1
,1 2
defaults 
: 
new 
{ 

controller  *
=+ ,
$str- 3
,3 4
action5 ;
=< =
$str> E
,E F
idG I
=J K
UrlParameterL X
.X Y
OptionalY a
}b c
) 
; 
} 	
} 
} ˇ¬
PC:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\Controllers\AdminController.cs
	namespace

 	
PawnshopUnchuMVC


 
.

 
Controllers

 &
{ 
public 

class 
AdminController  
:! "

Controller# -
{ 
public 
ActionResult 

AdminIndex &
(& '
)' (
{ 	
var 
idUser 
= 
System 
.  
Web  #
.# $
HttpContext$ /
./ 0
Current0 7
.7 8
Session8 ?
[? @
$str@ D
]D E
;E F
if 
( 
idUser 
== 
null 
) 
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 7
)7 8
;8 9
} 
else 
{ 
	@ViewData 
[ 
$str 
] 
=  !
idUser" (
;( )
} 
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
Logout "
(" #
)# $
{   	
System"" 
."" 
Web"" 
."" 
HttpContext"" "
.""" #
Current""# *
.""* +
Session""+ 2
[""2 3
$str""3 7
]""7 8
=""9 :
null""; ?
;""? @
return## 
RedirectToAction## #
(### $
$str##$ +
,##+ ,
$str##- 3
)##3 4
;##4 5
}$$ 	
public&& 
ActionResult&& 
AdminRegServices&& ,
(&&, -
)&&- .
{'' 	
return(( 
View(( 
((( 
)(( 
;(( 
})) 	
[++ 	
HttpPost++	 
]++ 
public,, 
ActionResult,, 
AdminRegServices,, ,
(,,, -
tblServices,,- 8

collection,,9 C
),,C D
{-- 	
try.. 
{// 
SqlParameter11 
param111 #
=11$ %
new11& )
SqlParameter11* 6
(116 7
$str117 >
,11> ?

collection11@ J
.11J K
servName11K S
)11S T
;11T U
var22 
db22 
=22 
new22 '
DBPawnshopEntitiesConection22 8
(228 9
)229 :
;22: ;
var33 
data33 
=33 
db33 
.33 
Database33 &
.33& '
ExecuteSqlCommand33' 8
(338 9
$str339 L
,33L M
param133N T
)33T U
;33U V
TempData44 
[44 
$str44 !
]44! "
=44# $
$str44% )
;44) *
	@ViewData55 
[55 
$str55 
]55 
=55  !
TempData55" *
[55* +
$str55+ 3
]553 4
;554 5
return66 
View66 
(66 
)66 
;66 
}77 
catch88 
(88 
	Exception88 
e88 
)88 
{99 
return:: 
View:: 
(:: 
e:: 
.:: 
Message:: %
)::% &
;::& '
};; 
}<< 	
public>> 
ActionResult>> 
AdminEditServices>> -
(>>- .
)>>. /
{?? 	'
DBPawnshopEntitiesConectionAA '
dbAA( *
=AA+ ,
newAA- 0'
DBPawnshopEntitiesConectionAA1 L
(AAL M
)AAM N
;AAN O
varBB 
getServicesBB 
=BB 
dbBB  
.BB  !
tblServicesBB! ,
.BB, -
ToListBB- 3
(BB3 4
)BB4 5
;BB5 6

SelectListCC 
listCC 
=CC 
newCC !

SelectListCC" ,
(CC, -
getServicesCC- 8
,CC8 9
$strCC: B
,CCB C
$strCCD N
)CCN O
;CCO P
ViewBagDD 
.DD 
ServicesDD 
=DD 
listDD #
;DD# $
returnEE 
ViewEE 
(EE 
)EE 
;EE 
}FF 	
[HH 	
HttpPostHH	 
]HH 
publicII 
ActionResultII 
AdminEditServicesII -
(II- .
SelectListItemII. <
itemII= A
)IIA B
{JJ 	
varLL 
optionValueLL 
=LL 
RequestLL %
.LL% &
FormLL& *
[LL* +
$strLL+ 6
]LL6 7
;LL7 8
SystemMM 
.MM 
WebMM 
.MM 
HttpContextMM "
.MM" #
CurrentMM# *
.MM* +
SessionMM+ 2
[MM2 3
$strMM3 ;
]MM; <
=MM= >
optionValueMM? J
;MMJ K
returnNN 
RedirectToActionNN #
(NN# $
$strNN$ 8
)NN8 9
;NN9 :
}OO 	
publicQQ 
ActionResultQQ 
AdminEditServices2QQ .
(QQ. /
)QQ/ 0
{RR 	
stringTT 

idServicioTT 
=TT 
SystemTT  &
.TT& '
WebTT' *
.TT* +
HttpContextTT+ 6
.TT6 7
CurrentTT7 >
.TT> ?
SessionTT? F
[TTF G
$strTTG O
]TTO P
.TTP Q
ToStringTTQ Y
(TTY Z
)TTZ [
;TT[ \
varUU 
dbUU 
=UU 
newUU '
DBPawnshopEntitiesConectionUU 4
(UU4 5
)UU5 6
;UU6 7
SqlParameterVV 
param1VV 
=VV  !
newVV" %
SqlParameterVV& 2
(VV2 3
$strVV3 8
,VV8 9

idServicioVV: D
)VVD E
;VVE F
varWW 
dataWW 
=WW 
dbWW 
.WW 
DatabaseWW "
.WW" #
SqlQueryWW# +
<WW+ ,
tblServicesWW, 7
>WW7 8
(WW8 9
$strWW9 J
,WWJ K
param1WWL R
)WWR S
.WWS T
FirstOrDefaultWWT b
(WWb c
)WWc d
;WWd e
returnXX 
ViewXX 
(XX 
dataXX 
)XX 
;XX 
}YY 	
[[[ 	
HttpPost[[	 
][[ 
public\\ 
ActionResult\\ 
AdminEditServices2\\ .
(\\. /
tblServices\\/ :

collection\\; E
)\\E F
{]] 	
try^^ 
{__ 
stringaa 
idServiciosaa "
=aa# $
Systemaa% +
.aa+ ,
Webaa, /
.aa/ 0
HttpContextaa0 ;
.aa; <
Currentaa< C
.aaC D
SessionaaD K
[aaK L
$straaL T
]aaT U
.aaU V
ToStringaaV ^
(aa^ _
)aa_ `
;aa` a
varbb 
dbbb 
=bb 
newbb '
DBPawnshopEntitiesConectionbb 8
(bb8 9
)bb9 :
;bb: ;
SqlParametercc 
param1cc #
=cc$ %
newcc& )
SqlParametercc* 6
(cc6 7
$strcc7 <
,cc< =
idServicioscc> I
)ccI J
;ccJ K
SqlParameterdd 
param2dd #
=dd$ %
newdd& )
SqlParameterdd* 6
(dd6 7
$strdd7 >
,dd> ?

collectiondd@ J
.ddJ K
servNameddK S
)ddS T
;ddT U
varee 
dataee 
=ee 
dbee 
.ee 
Databaseee &
.ee& '
ExecuteSqlCommandee' 8
(ee8 9
$stree9 T
,eeT U
param1eeV \
,ee\ ]
param2ee^ d
)eed e
;eee f
TempDataff 
[ff 
$strff !
]ff! "
=ff# $
$strff% )
;ff) *
	@ViewDatagg 
[gg 
$strgg 
]gg 
=gg  !
TempDatagg" *
[gg* +
$strgg+ 3
]gg3 4
;gg4 5
returnhh 
Viewhh 
(hh 
)hh 
;hh 
}ii 
catchjj 
(jj 
	Exceptionjj 
ejj 
)jj 
{kk 
returnll 
Viewll 
(ll 
ell 
.ll 
Messagell %
)ll% &
;ll& '
}mm 
}nn 	
publicpp 
ActionResultpp 
AdminDeleteServicespp /
(pp/ 0
)pp0 1
{qq 	'
DBPawnshopEntitiesConectionss '
dbss( *
=ss+ ,
newss- 0'
DBPawnshopEntitiesConectionss1 L
(ssL M
)ssM N
;ssN O
vartt 
getServicestt 
=tt 
dbtt  
.tt  !
tblServicestt! ,
.tt, -
ToListtt- 3
(tt3 4
)tt4 5
;tt5 6

SelectListuu 
listuu 
=uu 
newuu !

SelectListuu" ,
(uu, -
getServicesuu- 8
,uu8 9
$struu: B
,uuB C
$struuD N
)uuN O
;uuO P
ViewBagvv 
.vv 
Servicesvv 
=vv 
listvv #
;vv# $
returnww 
Viewww 
(ww 
)ww 
;ww 
}xx 	
[zz 	
HttpPostzz	 
]zz 
public{{ 
ActionResult{{ 
AdminDeleteServices{{ /
({{/ 0
SelectListItem{{0 >
item{{? C
){{C D
{|| 	
var~~ 
optionValue~~ 
=~~ 
Request~~ %
.~~% &
Form~~& *
[~~* +
$str~~+ 6
]~~6 7
;~~7 8
System 
. 
Web 
. 
HttpContext "
." #
Current# *
.* +
Session+ 2
[2 3
$str3 ;
]; <
== >
optionValue? J
;J K
return
ÄÄ 
RedirectToAction
ÄÄ #
(
ÄÄ# $
$str
ÄÄ$ :
)
ÄÄ: ;
;
ÄÄ; <
}
ÅÅ 	
public
ÉÉ 
ActionResult
ÉÉ "
AdminDeleteServices2
ÉÉ 0
(
ÉÉ0 1
)
ÉÉ1 2
{
ÑÑ 	
string
ÜÜ 

idServicio
ÜÜ 
=
ÜÜ 
System
ÜÜ  &
.
ÜÜ& '
Web
ÜÜ' *
.
ÜÜ* +
HttpContext
ÜÜ+ 6
.
ÜÜ6 7
Current
ÜÜ7 >
.
ÜÜ> ?
Session
ÜÜ? F
[
ÜÜF G
$str
ÜÜG O
]
ÜÜO P
.
ÜÜP Q
ToString
ÜÜQ Y
(
ÜÜY Z
)
ÜÜZ [
;
ÜÜ[ \
var
áá 
db
áá 
=
áá 
new
áá )
DBPawnshopEntitiesConection
áá 4
(
áá4 5
)
áá5 6
;
áá6 7
SqlParameter
àà 
param1
àà 
=
àà  !
new
àà" %
SqlParameter
àà& 2
(
àà2 3
$str
àà3 8
,
àà8 9

idServicio
àà: D
)
ààD E
;
ààE F
var
ââ 
data
ââ 
=
ââ 
db
ââ 
.
ââ 
Database
ââ "
.
ââ" #
SqlQuery
ââ# +
<
ââ+ ,
tblServices
ââ, 7
>
ââ7 8
(
ââ8 9
$str
ââ9 J
,
ââJ K
param1
ââL R
)
ââR S
.
ââS T
SingleOrDefault
ââT c
(
ââc d
)
ââd e
;
ââe f
return
ää 
View
ää 
(
ää 
data
ää 
)
ää 
;
ää 
}
ãã 	
[
çç 	
HttpPost
çç	 
]
çç 
public
éé 
ActionResult
éé "
AdminDeleteServices2
éé 0
(
éé0 1
FormCollection
éé1 ?

collection
éé@ J
)
ééJ K
{
èè 	
string
ëë 

idServicio
ëë 
=
ëë 
System
ëë  &
.
ëë& '
Web
ëë' *
.
ëë* +
HttpContext
ëë+ 6
.
ëë6 7
Current
ëë7 >
.
ëë> ?
Session
ëë? F
[
ëëF G
$str
ëëG O
]
ëëO P
.
ëëP Q
ToString
ëëQ Y
(
ëëY Z
)
ëëZ [
;
ëë[ \
var
íí 
db
íí 
=
íí 
new
íí )
DBPawnshopEntitiesConection
íí 4
(
íí4 5
)
íí5 6
;
íí6 7
SqlParameter
ìì 
param1
ìì 
=
ìì  !
new
ìì" %
SqlParameter
ìì& 2
(
ìì2 3
$str
ìì3 8
,
ìì8 9

idServicio
ìì: D
)
ììD E
;
ììE F
db
îî 
.
îî 
Database
îî 
.
îî 
ExecuteSqlCommand
îî )
(
îî) *
$str
îî* :
,
îî: ;
param1
îî< B
)
îîB C
;
îîC D
return
ïï 
RedirectToAction
ïï #
(
ïï# $
$str
ïï$ 9
)
ïï9 :
;
ïï: ;
}
ññ 	
public
òò 
ActionResult
òò 
AdminRegInfo
òò (
(
òò( )
)
òò) *
{
ôô 	
return
öö 
View
öö 
(
öö 
)
öö 
;
öö 
}
õõ 	
[
ùù 	
HttpPost
ùù	 
]
ùù 
public
ûû 
ActionResult
ûû 
AdminRegInfo
ûû (
(
ûû( )
tblBusiness
ûû) 4

collection
ûû5 ?
)
ûû? @
{
üü 	
try
†† 
{
°° 
SqlParameter
££ 
param1
££ #
=
££$ %
new
££& )
SqlParameter
££* 6
(
££6 7
$str
££7 >
,
££> ?

collection
££@ J
.
££J K
bsName
££K Q
)
££Q R
;
££R S
SqlParameter
§§ 
param2
§§ #
=
§§$ %
new
§§& )
SqlParameter
§§* 6
(
§§6 7
$str
§§7 C
,
§§C D

collection
§§E O
.
§§O P

bsLocation
§§P Z
)
§§Z [
;
§§[ \
SqlParameter
•• 
param3
•• #
=
••$ %
new
••& )
SqlParameter
••* 6
(
••6 7
$str
••7 ?
,
••? @

collection
••A K
.
••K L
bsEmail
••L S
)
••S T
;
••T U
SqlParameter
¶¶ 
param4
¶¶ #
=
¶¶$ %
new
¶¶& )
SqlParameter
¶¶* 6
(
¶¶6 7
$str
¶¶7 >
,
¶¶> ?

collection
¶¶@ J
.
¶¶J K
bsBranch
¶¶K S
)
¶¶S T
;
¶¶T U
SqlParameter
ßß 
param5
ßß #
=
ßß$ %
new
ßß& )
SqlParameter
ßß* 6
(
ßß6 7
$str
ßß7 B
,
ßßB C

collection
ßßD N
.
ßßN O
bsPhone
ßßO V
)
ßßV W
;
ßßW X
var
®® 
db
®® 
=
®® 
new
®® )
DBPawnshopEntitiesConection
®® 8
(
®®8 9
)
®®9 :
;
®®: ;
var
©© 
data
©© 
=
©© 
db
©© 
.
©© 
Database
©© &
.
©©& '
ExecuteSqlCommand
©©' 8
(
©©8 9
$str
©©9 o
,
©©o p
param1
©©q w
,
©©w x
param2
©©x ~
,
©©~ 
param3©©Ä Ü
,©©Ü á
param4©©à é
,©©é è
param5©©ê ñ
)©©ñ ó
;©©ó ò
TempData
™™ 
[
™™ 
$str
™™ !
]
™™! "
=
™™# $
$str
™™% )
;
™™) *
	@ViewData
´´ 
[
´´ 
$str
´´ 
]
´´ 
=
´´  !
TempData
´´" *
[
´´* +
$str
´´+ 3
]
´´3 4
;
´´4 5
return
¨¨ 
View
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨ 
}
≠≠ 
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
e
ÆÆ 
)
ÆÆ 
{
ØØ 
return
∞∞ 
View
∞∞ 
(
∞∞ 
e
∞∞ 
.
∞∞ 
Message
∞∞ %
)
∞∞% &
;
∞∞& '
}
±± 
}
≤≤ 	
public
¥¥ 
ActionResult
¥¥ 
AdminEditInfo
¥¥ )
(
¥¥) *
)
¥¥* +
{
µµ 	)
DBPawnshopEntitiesConection
∑∑ '
db
∑∑( *
=
∑∑+ ,
new
∑∑- 0)
DBPawnshopEntitiesConection
∑∑1 L
(
∑∑L M
)
∑∑M N
;
∑∑N O
var
∏∏ 
getInfo
∏∏ 
=
∏∏ 
db
∏∏ 
.
∏∏ 
tblBusiness
∏∏ (
.
∏∏( )
ToList
∏∏) /
(
∏∏/ 0
)
∏∏0 1
;
∏∏1 2

SelectList
ππ 
list
ππ 
=
ππ 
new
ππ !

SelectList
ππ" ,
(
ππ, -
getInfo
ππ- 4
,
ππ4 5
$str
ππ6 <
,
ππ< =
$str
ππ> F
)
ππF G
;
ππG H
ViewBag
∫∫ 
.
∫∫ 
Business
∫∫ 
=
∫∫ 
list
∫∫ #
;
∫∫# $
return
ªª 
View
ªª 
(
ªª 
)
ªª 
;
ªª 
}
ºº 	
[
ææ 	
HttpPost
ææ	 
]
ææ 
public
øø 
ActionResult
øø 
AdminEditInfo
øø )
(
øø) *
SelectListItem
øø* 8
item
øø9 =
)
øø= >
{
¿¿ 	
var
¬¬ 
optionValue
¬¬ 
=
¬¬ 
Request
¬¬ %
.
¬¬% &
Form
¬¬& *
[
¬¬* +
$str
¬¬+ 8
]
¬¬8 9
;
¬¬9 :
System
√√ 
.
√√ 
Web
√√ 
.
√√ 
HttpContext
√√ "
.
√√" #
Current
√√# *
.
√√* +
Session
√√+ 2
[
√√2 3
$str
√√3 :
]
√√: ;
=
√√< =
optionValue
√√> I
;
√√I J
return
ƒƒ 
RedirectToAction
ƒƒ #
(
ƒƒ# $
$str
ƒƒ$ 4
)
ƒƒ4 5
;
ƒƒ5 6
}
≈≈ 	
public
«« 
ActionResult
«« 
AdminEditInfo2
«« *
(
««* +
)
««+ ,
{
»» 	
string
   
idBuss
   
=
   
System
   "
.
  " #
Web
  # &
.
  & '
HttpContext
  ' 2
.
  2 3
Current
  3 :
.
  : ;
Session
  ; B
[
  B C
$str
  C J
]
  J K
.
  K L
ToString
  L T
(
  T U
)
  U V
;
  V W
var
ÀÀ 
db
ÀÀ 
=
ÀÀ 
new
ÀÀ )
DBPawnshopEntitiesConection
ÀÀ 4
(
ÀÀ4 5
)
ÀÀ5 6
;
ÀÀ6 7
SqlParameter
ÃÃ 
param1
ÃÃ 
=
ÃÃ  !
new
ÃÃ" %
SqlParameter
ÃÃ& 2
(
ÃÃ2 3
$str
ÃÃ3 8
,
ÃÃ8 9
idBuss
ÃÃ: @
)
ÃÃ@ A
;
ÃÃA B
var
ÕÕ 
data
ÕÕ 
=
ÕÕ 
db
ÕÕ 
.
ÕÕ 
Database
ÕÕ "
.
ÕÕ" #
SqlQuery
ÕÕ# +
<
ÕÕ+ ,
tblBusiness
ÕÕ, 7
>
ÕÕ7 8
(
ÕÕ8 9
$str
ÕÕ9 I
,
ÕÕI J
param1
ÕÕK Q
)
ÕÕQ R
.
ÕÕR S
FirstOrDefault
ÕÕS a
(
ÕÕa b
)
ÕÕb c
;
ÕÕc d
return
ŒŒ 
View
ŒŒ 
(
ŒŒ 
data
ŒŒ 
)
ŒŒ 
;
ŒŒ 
}
œœ 	
[
—— 	
HttpPost
——	 
]
—— 
public
““ 
ActionResult
““ 
AdminEditInfo2
““ *
(
““* +
tblBusiness
““+ 6

collection
““7 A
)
““A B
{
”” 	
try
‘‘ 
{
’’ 
string
◊◊ 
idBuss
◊◊ 
=
◊◊ 
System
◊◊  &
.
◊◊& '
Web
◊◊' *
.
◊◊* +
HttpContext
◊◊+ 6
.
◊◊6 7
Current
◊◊7 >
.
◊◊> ?
Session
◊◊? F
[
◊◊F G
$str
◊◊G N
]
◊◊N O
.
◊◊O P
ToString
◊◊P X
(
◊◊X Y
)
◊◊Y Z
;
◊◊Z [
var
ÿÿ 
db
ÿÿ 
=
ÿÿ 
new
ÿÿ )
DBPawnshopEntitiesConection
ÿÿ 8
(
ÿÿ8 9
)
ÿÿ9 :
;
ÿÿ: ;
SqlParameter
ŸŸ 
param1
ŸŸ #
=
ŸŸ$ %
new
ŸŸ& )
SqlParameter
ŸŸ* 6
(
ŸŸ6 7
$str
ŸŸ7 <
,
ŸŸ< =
idBuss
ŸŸ> D
)
ŸŸD E
;
ŸŸE F
SqlParameter
⁄⁄ 
param2
⁄⁄ #
=
⁄⁄$ %
new
⁄⁄& )
SqlParameter
⁄⁄* 6
(
⁄⁄6 7
$str
⁄⁄7 >
,
⁄⁄> ?

collection
⁄⁄@ J
.
⁄⁄J K
bsName
⁄⁄K Q
)
⁄⁄Q R
;
⁄⁄R S
SqlParameter
€€ 
param3
€€ #
=
€€$ %
new
€€& )
SqlParameter
€€* 6
(
€€6 7
$str
€€7 C
,
€€C D

collection
€€E O
.
€€O P

bsLocation
€€P Z
)
€€Z [
;
€€[ \
SqlParameter
‹‹ 
param4
‹‹ #
=
‹‹$ %
new
‹‹& )
SqlParameter
‹‹* 6
(
‹‹6 7
$str
‹‹7 ?
,
‹‹? @

collection
‹‹A K
.
‹‹K L
bsEmail
‹‹L S
)
‹‹S T
;
‹‹T U
SqlParameter
›› 
param5
›› #
=
››$ %
new
››& )
SqlParameter
››* 6
(
››6 7
$str
››7 >
,
››> ?

collection
››@ J
.
››J K
bsBranch
››K S
)
››S T
;
››T U
SqlParameter
ﬁﬁ 
param6
ﬁﬁ #
=
ﬁﬁ$ %
new
ﬁﬁ& )
SqlParameter
ﬁﬁ* 6
(
ﬁﬁ6 7
$str
ﬁﬁ7 B
,
ﬁﬁB C

collection
ﬁﬁD N
.
ﬁﬁN O
bsPhone
ﬁﬁO V
)
ﬁﬁV W
;
ﬁﬁW X
var
ﬂﬂ 
data
ﬂﬂ 
=
ﬂﬂ 
db
ﬂﬂ 
.
ﬂﬂ 
Database
ﬂﬂ &
.
ﬂﬂ& '
ExecuteSqlCommand
ﬂﬂ' 8
(
ﬂﬂ8 9
$str
ﬂﬂ9 v
,
ﬂﬂv w
param1
ﬂﬂx ~
,
ﬂﬂ~ 
param2ﬂﬂÄ Ü
,ﬂﬂÜ á
param3ﬂﬂá ç
,ﬂﬂç é
param4ﬂﬂè ï
,ﬂﬂï ñ
param5ﬂﬂó ù
,ﬂﬂù û
param6ﬂﬂü •
)ﬂﬂ• ¶
;ﬂﬂ¶ ß
TempData
‡‡ 
[
‡‡ 
$str
‡‡ !
]
‡‡! "
=
‡‡# $
$str
‡‡% )
;
‡‡) *
	@ViewData
·· 
[
·· 
$str
·· 
]
·· 
=
··  !
TempData
··" *
[
··* +
$str
··+ 3
]
··3 4
;
··4 5
return
‚‚ 
View
‚‚ 
(
‚‚ 
)
‚‚ 
;
‚‚ 
}
„„ 
catch
‰‰ 
(
‰‰ 
	Exception
‰‰ 
e
‰‰ 
)
‰‰ 
{
ÂÂ 
return
ÊÊ 
View
ÊÊ 
(
ÊÊ 
e
ÊÊ 
.
ÊÊ 
Message
ÊÊ %
)
ÊÊ% &
;
ÊÊ& '
}
ÁÁ 
}
ËË 	
public
ÍÍ 
ActionResult
ÍÍ 
AdminDeleteInfo
ÍÍ +
(
ÍÍ+ ,
)
ÍÍ, -
{
ÎÎ 	)
DBPawnshopEntitiesConection
ÌÌ '
db
ÌÌ( *
=
ÌÌ+ ,
new
ÌÌ- 0)
DBPawnshopEntitiesConection
ÌÌ1 L
(
ÌÌL M
)
ÌÌM N
;
ÌÌN O
var
ÓÓ 
getInfo
ÓÓ 
=
ÓÓ 
db
ÓÓ 
.
ÓÓ 
tblBusiness
ÓÓ (
.
ÓÓ( )
ToList
ÓÓ) /
(
ÓÓ/ 0
)
ÓÓ0 1
;
ÓÓ1 2

SelectList
ÔÔ 
list
ÔÔ 
=
ÔÔ 
new
ÔÔ !

SelectList
ÔÔ" ,
(
ÔÔ, -
getInfo
ÔÔ- 4
,
ÔÔ4 5
$str
ÔÔ6 <
,
ÔÔ< =
$str
ÔÔ> F
)
ÔÔF G
;
ÔÔG H
ViewBag
 
.
 
Business
 
=
 
list
 #
;
# $
return
ÒÒ 
View
ÒÒ 
(
ÒÒ 
)
ÒÒ 
;
ÒÒ 
}
ÚÚ 	
[
ÙÙ 	
HttpPost
ÙÙ	 
]
ÙÙ 
public
ıı 
ActionResult
ıı 
AdminDeleteInfo
ıı +
(
ıı+ ,
SelectListItem
ıı, :
item
ıı; ?
)
ıı? @
{
ˆˆ 	
var
¯¯ 
optionValue
¯¯ 
=
¯¯ 
Request
¯¯ %
.
¯¯% &
Form
¯¯& *
[
¯¯* +
$str
¯¯+ 8
]
¯¯8 9
;
¯¯9 :
System
˘˘ 
.
˘˘ 
Web
˘˘ 
.
˘˘ 
HttpContext
˘˘ "
.
˘˘" #
Current
˘˘# *
.
˘˘* +
Session
˘˘+ 2
[
˘˘2 3
$str
˘˘3 :
]
˘˘: ;
=
˘˘< =
optionValue
˘˘> I
;
˘˘I J
return
˙˙ 
RedirectToAction
˙˙ #
(
˙˙# $
$str
˙˙$ 6
)
˙˙6 7
;
˙˙7 8
}
˚˚ 	
public
˝˝ 
ActionResult
˝˝ 
AdminDeleteInfo2
˝˝ ,
(
˝˝, -
)
˝˝- .
{
˛˛ 	
string
ÄÄ 
idBus
ÄÄ 
=
ÄÄ 
System
ÄÄ !
.
ÄÄ! "
Web
ÄÄ" %
.
ÄÄ% &
HttpContext
ÄÄ& 1
.
ÄÄ1 2
Current
ÄÄ2 9
.
ÄÄ9 :
Session
ÄÄ: A
[
ÄÄA B
$str
ÄÄB I
]
ÄÄI J
.
ÄÄJ K
ToString
ÄÄK S
(
ÄÄS T
)
ÄÄT U
;
ÄÄU V
var
ÅÅ 
db
ÅÅ 
=
ÅÅ 
new
ÅÅ )
DBPawnshopEntitiesConection
ÅÅ 4
(
ÅÅ4 5
)
ÅÅ5 6
;
ÅÅ6 7
SqlParameter
ÇÇ 
param1
ÇÇ 
=
ÇÇ  !
new
ÇÇ" %
SqlParameter
ÇÇ& 2
(
ÇÇ2 3
$str
ÇÇ3 8
,
ÇÇ8 9
idBus
ÇÇ: ?
)
ÇÇ? @
;
ÇÇ@ A
var
ÉÉ 
data
ÉÉ 
=
ÉÉ 
db
ÉÉ 
.
ÉÉ 
Database
ÉÉ "
.
ÉÉ" #
SqlQuery
ÉÉ# +
<
ÉÉ+ ,
tblBusiness
ÉÉ, 7
>
ÉÉ7 8
(
ÉÉ8 9
$str
ÉÉ9 I
,
ÉÉI J
param1
ÉÉK Q
)
ÉÉQ R
.
ÉÉR S
SingleOrDefault
ÉÉS b
(
ÉÉb c
)
ÉÉc d
;
ÉÉd e
return
ÑÑ 
View
ÑÑ 
(
ÑÑ 
data
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
[
áá 	
HttpPost
áá	 
]
áá 
public
àà 
ActionResult
àà 
AdminDeleteInfo2
àà ,
(
àà, -
FormCollection
àà- ;

collection
àà< F
)
ààF G
{
ââ 	
string
ãã 
idBus
ãã 
=
ãã 
System
ãã !
.
ãã! "
Web
ãã" %
.
ãã% &
HttpContext
ãã& 1
.
ãã1 2
Current
ãã2 9
.
ãã9 :
Session
ãã: A
[
ããA B
$str
ããB I
]
ããI J
.
ããJ K
ToString
ããK S
(
ããS T
)
ããT U
;
ããU V
var
åå 
db
åå 
=
åå 
new
åå )
DBPawnshopEntitiesConection
åå 4
(
åå4 5
)
åå5 6
;
åå6 7
SqlParameter
çç 
param1
çç 
=
çç  !
new
çç" %
SqlParameter
çç& 2
(
çç2 3
$str
çç3 8
,
çç8 9
idBus
çç: ?
)
çç? @
;
çç@ A
db
éé 
.
éé 
Database
éé 
.
éé 
ExecuteSqlCommand
éé )
(
éé) *
$str
éé* 9
,
éé9 :
param1
éé; A
)
ééA B
;
ééB C
return
èè 
RedirectToAction
èè #
(
èè# $
$str
èè$ 5
)
èè5 6
;
èè6 7
}
êê 	
public
ëë 
ActionResult
ëë 
AdminNewSolicitud
ëë -
(
ëë- .
)
ëë. /
{
íí 	)
DBPawnshopEntitiesConection
ìì '
db
ìì( *
=
ìì+ ,
new
ìì- 0)
DBPawnshopEntitiesConection
ìì1 L
(
ììL M
)
ììM N
;
ììN O
var
îî 
data
îî 
=
îî 
db
îî 
.
îî 
Database
îî "
.
îî" #
SqlQuery
îî# +
<
îî+ ,
tblSolicitude
îî, 9
>
îî9 :
(
îî: ;
$str
îî; N
)
îîN O
;
îîO P
return
ïï 
View
ïï 
(
ïï 
data
ïï 
.
ïï 
ToList
ïï #
(
ïï# $
)
ïï$ %
)
ïï% &
;
ïï& '
}
ññ 	
public
óó 
ActionResult
óó 
DetailsUser
óó '
(
óó' (
string
óó( .
id
óó/ 1
)
óó1 2
{
òò 	
var
ôô 
db
ôô 
=
ôô 
new
ôô )
DBPawnshopEntitiesConection
ôô 4
(
ôô4 5
)
ôô5 6
;
ôô6 7
SqlParameter
öö 
param1
öö 
=
öö  !
new
öö" %
SqlParameter
öö& 2
(
öö2 3
$str
öö3 8
,
öö8 9
id
öö: <
)
öö< =
;
öö= >
var
õõ 
dataList
õõ 
=
õõ 
db
õõ 
.
õõ 
Database
õõ &
.
õõ& '
SqlQuery
õõ' /
<
õõ/ 0
tblSolicitude
õõ0 =
>
õõ= >
(
õõ> ?
$str
õõ? T
,
õõT U
param1
õõV \
)
õõ\ ]
.
õõ] ^
ToList
õõ^ d
(
õõd e
)
õõe f
;
õõf g
var
úú 
tipos
úú 
=
úú 
dataList
úú  
.
úú  !
Select
úú! '
(
úú' (
x
úú( )
=>
úú* ,
x
úú- .
.
úú. /
	solUserID
úú/ 8
)
úú8 9
;
úú9 :
String
ùù 
tipo
ùù 
=
ùù 
tipos
ùù 
.
ùù  
First
ùù  %
(
ùù% &
)
ùù& '
.
ùù' (
ToString
ùù( 0
(
ùù0 1
)
ùù1 2
;
ùù2 3
SqlParameter
üü 
parame1
üü  
=
üü! "
new
üü# &
SqlParameter
üü' 3
(
üü3 4
$str
üü4 :
,
üü: ;
tipo
üü< @
)
üü@ A
;
üüA B
var
†† 
data
†† 
=
†† 
db
†† 
.
†† 
Database
†† "
.
††" #
SqlQuery
††# +
<
††+ ,
tblInfoUser
††, 7
>
††7 8
(
††8 9
$str
††9 Q
,
††Q R
parame1
††S Z
)
††Z [
.
††[ \
FirstOrDefault
††\ j
(
††j k
)
††k l
;
††l m
return
°° 
View
°° 
(
°° 
data
°° 
)
°° 
;
°° 
}
¢¢ 	
public
§§ 
ActionResult
§§ 
DetailsProduct
§§ *
(
§§* +
string
§§+ 1
id
§§2 4
)
§§4 5
{
•• 	
var
¶¶ 
db
¶¶ 
=
¶¶ 
new
¶¶ )
DBPawnshopEntitiesConection
¶¶ 4
(
¶¶4 5
)
¶¶5 6
;
¶¶6 7
SqlParameter
ßß 
param1
ßß 
=
ßß  !
new
ßß" %
SqlParameter
ßß& 2
(
ßß2 3
$str
ßß3 8
,
ßß8 9
id
ßß: <
)
ßß< =
;
ßß= >
var
©© 
dataList
©© 
=
©© 
db
©© 
.
©© 
Database
©© &
.
©©& '
SqlQuery
©©' /
<
©©/ 0
tblSolicitude
©©0 =
>
©©= >
(
©©> ?
$str
©©? T
,
©©T U
param1
©©V \
)
©©\ ]
.
©©] ^
ToList
©©^ d
(
©©d e
)
©©e f
;
©©f g
var
™™ 
tipos
™™ 
=
™™ 
dataList
™™  
.
™™  !
Select
™™! '
(
™™' (
x
™™( )
=>
™™* ,
x
™™- .
.
™™. /
	solUserID
™™/ 8
)
™™8 9
;
™™9 :
String
´´ 
tipo
´´ 
=
´´ 
tipos
´´ 
.
´´  
First
´´  %
(
´´% &
)
´´& '
.
´´' (
ToString
´´( 0
(
´´0 1
)
´´1 2
;
´´2 3
var
¨¨ 
nombProd
¨¨ 
=
¨¨ 
dataList
¨¨ #
.
¨¨# $
Select
¨¨$ *
(
¨¨* +
x
¨¨+ ,
=>
¨¨- /
x
¨¨0 1
.
¨¨1 2
solProdName
¨¨2 =
)
¨¨= >
;
¨¨> ?
String
≠≠ 
	nombProds
≠≠ 
=
≠≠ 
nombProd
≠≠ '
.
≠≠' (
First
≠≠( -
(
≠≠- .
)
≠≠. /
.
≠≠/ 0
ToString
≠≠0 8
(
≠≠8 9
)
≠≠9 :
;
≠≠: ;
SqlParameter
ÆÆ 
parama1
ÆÆ  
=
ÆÆ! "
new
ÆÆ# &
SqlParameter
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 ;
,
ÆÆ; <
tipo
ÆÆ= A
)
ÆÆA B
;
ÆÆB C
SqlParameter
ØØ 
parama2
ØØ  
=
ØØ! "
new
ØØ# &
SqlParameter
ØØ' 3
(
ØØ3 4
$str
ØØ4 >
,
ØØ> ?
	nombProds
ØØ@ I
)
ØØI J
;
ØØJ K
var
±± 
data
±± 
=
±± 
db
±± 
.
±± 
Database
±± "
.
±±" #
SqlQuery
±±# +
<
±±+ ,

tblGarment
±±, 6
>
±±6 7
(
±±7 8
$str
±±8 W
,
±±W X
parama1
±±Y `
,
±±` a
parama2
±±a h
)
±±h i
.
±±i j
ToList
±±j p
(
±±p q
)
±±q r
;
±±r s
var
≤≤ 
idPro
≤≤ 
=
≤≤ 
data
≤≤ 
.
≤≤ 
Select
≤≤ #
(
≤≤# $
x
≤≤$ %
=>
≤≤& (
x
≤≤) *
.
≤≤* +
gmtID
≤≤+ 0
)
≤≤0 1
;
≤≤1 2
String
≥≥ 
idProd
≥≥ 
=
≥≥ 
idPro
≥≥ !
.
≥≥! "
First
≥≥" '
(
≥≥' (
)
≥≥( )
.
≥≥) *
ToString
≥≥* 2
(
≥≥2 3
)
≥≥3 4
;
≥≥4 5
System
¥¥ 
.
¥¥ 
Web
¥¥ 
.
¥¥ 
HttpContext
¥¥ "
.
¥¥" #
Current
¥¥# *
.
¥¥* +
Session
¥¥+ 2
[
¥¥2 3
$str
¥¥3 >
]
¥¥> ?
=
¥¥@ A
idProd
¥¥B H
;
¥¥H I
SqlParameter
∂∂ 
	parametro
∂∂ "
=
∂∂# $
new
∂∂% (
SqlParameter
∂∂) 5
(
∂∂5 6
$str
∂∂6 ;
,
∂∂; <
idProd
∂∂= C
)
∂∂C D
;
∂∂D E
var
∑∑ 
d
∑∑ 
=
∑∑ 
db
∑∑ 
.
∑∑ 
Database
∑∑ 
.
∑∑  
SqlQuery
∑∑  (
<
∑∑( )

tblGarment
∑∑) 3
>
∑∑3 4
(
∑∑4 5
$str
∑∑5 E
,
∑∑E F
	parametro
∑∑G P
)
∑∑P Q
.
∑∑Q R
FirstOrDefault
∑∑R `
(
∑∑` a
)
∑∑a b
;
∑∑b c
return
∏∏ 
View
∏∏ 
(
∏∏ 
d
∏∏ 
)
∏∏ 
;
∏∏ 
}
ππ 	
public
∫∫ 
ActionResult
∫∫ 
getImage
∫∫ $
(
∫∫$ %
)
∫∫% &
{
ªª 	
string
ΩΩ 
idProd
ΩΩ 
=
ΩΩ 
System
ΩΩ "
.
ΩΩ" #
Web
ΩΩ# &
.
ΩΩ& '
HttpContext
ΩΩ' 2
.
ΩΩ2 3
Current
ΩΩ3 :
.
ΩΩ: ;
Session
ΩΩ; B
[
ΩΩB C
$str
ΩΩC N
]
ΩΩN O
.
ΩΩO P
ToString
ΩΩP X
(
ΩΩX Y
)
ΩΩY Z
;
ΩΩZ [
var
ææ 
db
ææ 
=
ææ 
new
ææ )
DBPawnshopEntitiesConection
ææ 4
(
ææ4 5
)
ææ5 6
;
ææ6 7

tblGarment
øø 
img
øø 
=
øø 
db
øø 
.
øø  

tblGarment
øø  *
.
øø* +
Find
øø+ /
(
øø/ 0
idProd
øø0 6
)
øø6 7
;
øø7 8
byte
¿¿ 
[
¿¿ 
]
¿¿ 
	byteImage
¿¿ 
=
¿¿ 
img
¿¿ "
.
¿¿" #
gmtImage
¿¿# +
;
¿¿+ ,
MemoryStream
¬¬ 
memoryStream
¬¬ %
=
¬¬& '
new
¬¬( +
MemoryStream
¬¬, 8
(
¬¬8 9
	byteImage
¬¬9 B
)
¬¬B C
;
¬¬C D
System
√√ 
.
√√ 
Drawing
√√ 
.
√√ 
Image
√√  
image
√√! &
=
√√' (
System
√√) /
.
√√/ 0
Drawing
√√0 7
.
√√7 8
Image
√√8 =
.
√√= >

FromStream
√√> H
(
√√H I
memoryStream
√√I U
)
√√U V
;
√√V W
memoryStream
ƒƒ 
=
ƒƒ 
new
ƒƒ 
MemoryStream
ƒƒ +
(
ƒƒ+ ,
)
ƒƒ, -
;
ƒƒ- .
image
≈≈ 
.
≈≈ 
Save
≈≈ 
(
≈≈ 
memoryStream
≈≈ #
,
≈≈# $
ImageFormat
≈≈% 0
.
≈≈0 1
Jpeg
≈≈1 5
)
≈≈5 6
;
≈≈6 7
memoryStream
∆∆ 
.
∆∆ 
Position
∆∆ !
=
∆∆" #
$num
∆∆$ %
;
∆∆% &
return
«« 
File
«« 
(
«« 
memoryStream
«« $
,
««$ %
$str
««& 1
)
««1 2
;
««2 3
}
»» 	
public
…… 
ActionResult
……  
AdminListSolicitud
…… .
(
……. /
)
……/ 0
{
   	)
DBPawnshopEntitiesConection
ÀÀ '
db
ÀÀ( *
=
ÀÀ+ ,
new
ÀÀ- 0)
DBPawnshopEntitiesConection
ÀÀ1 L
(
ÀÀL M
)
ÀÀM N
;
ÀÀN O
var
ÃÃ 
data
ÃÃ 
=
ÃÃ 
db
ÃÃ 
.
ÃÃ 
Database
ÃÃ "
.
ÃÃ" #
SqlQuery
ÃÃ# +
<
ÃÃ+ ,
tblSolicitude
ÃÃ, 9
>
ÃÃ9 :
(
ÃÃ: ;
$str
ÃÃ; O
)
ÃÃO P
;
ÃÃP Q
return
ÕÕ 
View
ÕÕ 
(
ÕÕ 
data
ÕÕ 
.
ÕÕ 
ToList
ÕÕ #
(
ÕÕ# $
)
ÕÕ$ %
)
ÕÕ% &
;
ÕÕ& '
}
ŒŒ 	
public
œœ 
ActionResult
œœ 
CancelSolicitude
œœ ,
(
œœ, -
string
œœ- 3
id
œœ4 6
)
œœ6 7
{
–– 	
var
—— 
db
—— 
=
—— 
new
—— )
DBPawnshopEntitiesConection
—— 4
(
——4 5
)
——5 6
;
——6 7
SqlParameter
““ 
param1
““ 
=
““  !
new
““" %
SqlParameter
““& 2
(
““2 3
$str
““3 8
,
““8 9
id
““: <
)
““< =
;
““= >
db
”” 
.
”” 
Database
”” 
.
”” 
ExecuteSqlCommand
”” )
(
””) *
$str
””* ?
,
””? @
param1
””A G
)
””G H
;
””H I
TempData
‘‘ 
[
‘‘ 
$str
‘‘ 
]
‘‘ 
=
‘‘  
$str
‘‘! %
;
‘‘% &
	@ViewData
’’ 
[
’’ 
$str
’’ 
]
’’ 
=
’’ 
TempData
’’ &
[
’’& '
$str
’’' /
]
’’/ 0
;
’’0 1
return
÷÷ 
RedirectToAction
÷÷ #
(
÷÷# $
$str
÷÷$ 7
)
÷÷7 8
;
÷÷8 9
}
◊◊ 	
public
ÿÿ 
ActionResult
ÿÿ 
ConfirmSolicitude
ÿÿ -
(
ÿÿ- .
string
ÿÿ. 4
id
ÿÿ5 7
)
ÿÿ7 8
{
ŸŸ 	
var
⁄⁄ 
db
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ )
DBPawnshopEntitiesConection
⁄⁄ 4
(
⁄⁄4 5
)
⁄⁄5 6
;
⁄⁄6 7
SqlParameter
€€ 
param1
€€ 
=
€€  !
new
€€" %
SqlParameter
€€& 2
(
€€2 3
$str
€€3 8
,
€€8 9
id
€€: <
)
€€< =
;
€€= >
db
‹‹ 
.
‹‹ 
Database
‹‹ 
.
‹‹ 
ExecuteSqlCommand
‹‹ )
(
‹‹) *
$str
‹‹* @
,
‹‹@ A
param1
‹‹B H
)
‹‹H I
;
‹‹I J
TempData
›› 
[
›› 
$str
›› 
]
›› 
=
››  !
$str
››" &
;
››& '
	@ViewData
ﬁﬁ 
[
ﬁﬁ 
$str
ﬁﬁ 
]
ﬁﬁ 
=
ﬁﬁ 
TempData
ﬁﬁ &
[
ﬁﬁ& '
$str
ﬁﬁ' 0
]
ﬁﬁ0 1
;
ﬁﬁ1 2
return
ﬂﬂ 
RedirectToAction
ﬂﬂ #
(
ﬂﬂ# $
$str
ﬂﬂ$ 7
)
ﬂﬂ7 8
;
ﬂﬂ8 9
}
‡‡ 	
}
·· 
}‚‚ Ú=
OC:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\Controllers\HomeController.cs
	namespace 	
PawnshopUnchuMVC
 
. 
Controllers &
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
About !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
Service #
(# $
)$ %
{ 	
return 
View 
( 
) 
; 
} 	
public!! 
ActionResult!! 
Login!! !
(!!! "
)!!" #
{"" 	
return$$ 
View$$ 
($$ 
)$$ 
;$$ 
}%% 	
['' 	
HttpPost''	 
]'' 
public(( 
ActionResult(( 
Login(( !
(((! "
tblUser((" )

collection((* 4
)((4 5
{)) 	
try** 
{++ 
var-- 
db-- 
=-- 
new-- '
DBPawnshopEntitiesConection-- 8
(--8 9
)--9 :
;--: ;
SqlParameter.. 
param1.. #
=..$ %
new..& )
SqlParameter..* 6
(..6 7
$str..7 ?
,..? @

collection..A K
...K L
	userEmail..L U
)..U V
;..V W
SqlParameter// 
param2// #
=//$ %
new//& )
SqlParameter//* 6
(//6 7
$str//7 =
,//= >

collection//? I
.//I J
userKey//J Q
)//Q R
;//R S
var00 
data00 
=00 
db00 
.00 
Database00 &
.00& '
SqlQuery00' /
<00/ 0
tblUser000 7
>007 8
(008 9
$str009 W
,00W X
param100Y _
,00_ `
param200a g
)00g h
.00h i
SingleOrDefault00i x
(00x y
)00y z
;00z {
if11 
(11 
data11 
==11 
null11  
)11  !
{22 
TempData33 
[33 
$str33 %
]33% &
=33' (
$str33) -
;33- .
	@ViewData44 
[44 
$str44 "
]44" #
=44$ %
TempData44& .
[44. /
$str44/ 7
]447 8
;448 9
return55 
View55 
(55  
)55  !
;55! "
}66 
else77 
{88 
SqlParameter::  
param3::! '
=::( )
new::* -
SqlParameter::. :
(::: ;
$str::; C
,::C D

collection::E O
.::O P
	userEmail::P Y
)::Y Z
;::Z [
SqlParameter;;  
param4;;! '
=;;( )
new;;* -
SqlParameter;;. :
(;;: ;
$str;;; A
,;;A B

collection;;C M
.;;M N
userKey;;N U
);;U V
;;;V W
var<< 
dataList<<  
=<<! "
db<<# %
.<<% &
Database<<& .
.<<. /
SqlQuery<</ 7
<<<7 8
tblUser<<8 ?
><<? @
(<<@ A
$str<<A _
,<<_ `
param3<<a g
,<<g h
param4<<i o
)<<o p
.<<p q
ToList<<q w
(<<w x
)<<x y
;<<y z
var== 
tipos== 
=== 
dataList==  (
.==( )
Select==) /
(==/ 0
x==0 1
=>==2 4
x==5 6
.==6 7
userType==7 ?
)==? @
;==@ A
String>> 
tipo>> 
=>>  !
tipos>>" '
.>>' (
First>>( -
(>>- .
)>>. /
.>>/ 0
ToString>>0 8
(>>8 9
)>>9 :
;>>: ;
var?? 
ID?? 
=?? 
dataList?? %
.??% &
Select??& ,
(??, -
x??- .
=>??/ 1
x??2 3
.??3 4
ID??4 6
)??6 7
;??7 8
String@@ 
idUser@@ !
=@@" #
ID@@$ &
.@@& '
First@@' ,
(@@, -
)@@- .
.@@. /
ToString@@/ 7
(@@7 8
)@@8 9
;@@9 :
ifBB 
(BB 
tipoBB 
==BB 
$strBB  '
)BB' (
{CC 
SystemDD 
.DD 
WebDD "
.DD" #
HttpContextDD# .
.DD. /
CurrentDD/ 6
.DD6 7
SessionDD7 >
[DD> ?
$strDD? C
]DDC D
=DDE F
idUserDDG M
;DDM N
returnEE 
RedirectToActionEE /
(EE/ 0
$strEE0 <
,EE< =
$strEE> E
)EEE F
;EEF G
}FF 
elseGG 
{HH 
ifJJ 
(JJ 
tipoJJ  
==JJ! #
$strJJ$ *
)JJ* +
{KK 
SystemLL "
.LL" #
WebLL# &
.LL& '
HttpContextLL' 2
.LL2 3
CurrentLL3 :
.LL: ;
SessionLL; B
[LLB C
$strLLC G
]LLG H
=LLI J
idUserLLK Q
;LLQ R
returnMM "
RedirectToActionMM# 3
(MM3 4
$strMM4 ?
,MM? @
$strMMA G
)MMG H
;MMH I
}NN 
elsePP 
{QQ 
returnRR "
ViewRR# '
(RR' (
)RR( )
;RR) *
}SS 
}TT 
}UU 
}VV 
catchWW 
{XX 
returnYY 
ViewYY 
(YY 
)YY 
;YY 
}ZZ 
}[[ 	
public]] 
ActionResult]] 
Create]] "
(]]" #
)]]# $
{^^ 	
return__ 
View__ 
(__ 
)__ 
;__ 
}`` 	
[bb 	
HttpPostbb	 
]bb 
publiccc 
ActionResultcc 
Createcc "
(cc" #
tblUsercc# *

collectioncc+ 5
)cc5 6
{dd 	
vargg 
dbgg 
=gg 
newgg '
DBPawnshopEntitiesConectiongg 8
(gg8 9
)gg9 :
;gg: ;
SqlParameterhh 
param1hh #
=hh$ %
newhh& )
SqlParameterhh* 6
(hh6 7
$strhh7 ?
,hh? @

collectionhhA K
.hhK L
	userEmailhhL U
)hhU V
;hhV W
SqlParameterii 
param2ii #
=ii$ %
newii& )
SqlParameterii* 6
(ii6 7
$strii7 =
,ii= >

collectionii? I
.iiI J
userKeyiiJ Q
)iiQ R
;iiR S
SqlParameterjj 
param3jj #
=jj$ %
newjj& )
SqlParameterjj* 6
(jj6 7
$strjj7 >
,jj> ?

collectionjj@ J
.jjJ K
userTypejjK S
)jjS T
;jjT U
varkk 
datakk 
=kk 
dbkk 
.kk 
Databasekk &
.kk& '
ExecuteSqlCommandkk' 8
(kk8 9
$strkk9 Z
,kkZ [
param1kk\ b
,kkb c
param2kkd j
,kkj k
param3kkl r
)kkr s
;kks t
returnll 
RedirectToActionll '
(ll' (
$strll( /
)ll/ 0
;ll0 1
}mm 	
}nn 
}oo ≥à
OC:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\Controllers\UserController.cs
	namespace 	
PawnshopUnchuMVC
 
. 
Controllers &
{ 
public 

class 
UserController 
:  !

Controller" ,
{ 
public 
ActionResult 
Index !
(! "
)" #
{ 	
var 
idUser 
= 
System 
.  
Web  #
.# $
HttpContext$ /
./ 0
Current0 7
.7 8
Session8 ?
[? @
$str@ D
]D E
;E F
if 
( 
idUser 
== 
null 
) 
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 7
)7 8
;8 9
} 
else 
{ 
return 
View 
( 
) 
; 
} 
} 	
public!! 
ActionResult!! 
	UserIndex!! %
(!!% &
)!!& '
{"" 	
var$$ 
idUser$$ 
=$$ 
System$$ 
.$$  
Web$$  #
.$$# $
HttpContext$$$ /
.$$/ 0
Current$$0 7
.$$7 8
Session$$8 ?
[$$? @
$str$$@ D
]$$D E
;$$E F
if&& 
(&& 
idUser&& 
==&& 
null&& 
)&& 
{'' 
return(( 
RedirectToAction(( '
(((' (
$str((( /
,((/ 0
$str((1 7
)((7 8
;((8 9
})) 
else** 
{++ 
	@ViewData,, 
[,, 
$str,, 
],, 
=,,  !
idUser,," (
;,,( )
}-- 
return.. 
View.. 
(.. 
).. 
;.. 
}// 	
public11 
ActionResult11 
Logout11 "
(11" #
)11# $
{22 	
System44 
.44 
Web44 
.44 
HttpContext44 "
.44" #
Current44# *
.44* +
Session44+ 2
[442 3
$str443 7
]447 8
=449 :
null44; ?
;44? @
return55 
RedirectToAction55 #
(55# $
$str55$ +
,55+ ,
$str55- 3
)553 4
;554 5
}66 	
public88 
ActionResult88 
AdminRegProduct88 +
(88+ ,
)88, -
{99 	
return:: 
View:: 
(:: 
):: 
;:: 
};; 	
[== 	
HttpPost==	 
]== 
public>> 
ActionResult>> 
AdminRegProduct>> +
(>>+ ,

tblGarment>>, 6

collection>>7 A
)>>A B
{?? 	
try@@ 
{AA 
HttpPostedFileBaseCC "
FileBaseCC# +
=CC, -
RequestCC. 5
.CC5 6
FilesCC6 ;
[CC; <
$numCC< =
]CC= >
;CC> ?
WebImageDD 
imageDD 
=DD  
newDD! $
WebImageDD% -
(DD- .
FileBaseDD. 6
.DD6 7
InputStreamDD7 B
)DDB C
;DDC D
stringEE 
idUserEE 
=EE 
SystemEE  &
.EE& '
WebEE' *
.EE* +
HttpContextEE+ 6
.EE6 7
CurrentEE7 >
.EE> ?
SessionEE? F
[EEF G
$strEEG K
]EEK L
.EEL M
ToStringEEM U
(EEU V
)EEV W
;EEW X
SqlParameterFF 
param1FF #
=FF$ %
newFF& )
SqlParameterFF* 6
(FF6 7
$strFF7 >
,FF> ?

collectionFF@ J
.FFJ K
gmtNameFFK R
)FFR S
;FFS T
SqlParameterGG 
param2GG #
=GG$ %
newGG& )
SqlParameterGG* 6
(GG6 7
$strGG7 >
,GG> ?

collectionGG@ J
.GGJ K
gmtTypeGGK R
)GGR S
;GGS T
SqlParameterHH 
param3HH #
=HH$ %
newHH& )
SqlParameterHH* 6
(HH6 7
$strHH7 C
,HHC D

collectionHHE O
.HHO P
gmtConditionHHP \
)HH\ ]
;HH] ^
SqlParameterII 
param4II #
=II$ %
newII& )
SqlParameterII* 6
(II6 7
$strII7 @
,II@ A

collectionIIB L
.IIL M
gmtPriceIIM U
)IIU V
;IIV W
SqlParameterJJ 
param5JJ #
=JJ$ %
newJJ& )
SqlParameterJJ* 6
(JJ6 7
$strJJ7 >
,JJ> ?
idUserJJ@ F
)JJF G
;JJG H
SqlParameterKK 
param6KK #
=KK$ %
newKK& )
SqlParameterKK* 6
(KK6 7
$strKK7 =
,KK= >

collectionKK? I
.KKI J
gmtImageKKJ R
=KKS T
imageKKU Z
.KKZ [
GetBytesKK[ c
(KKc d
)KKd e
)KKe f
;KKf g
varMM 
dbMM 
=MM 
newMM '
DBPawnshopEntitiesConectionMM 8
(MM8 9
)MM9 :
;MM: ;
dbNN 
.NN 
DatabaseNN 
.NN 
ExecuteSqlCommandNN -
(NN- .
$strNN. f
,NNf g
param1NNh n
,NNn o
param2NNp v
,NNv w
param3NNx ~
,NN~ 
param4
NNÄ Ü
,
NNÜ á
param5
NNà é
,
NNé è
param6
NNè ï
)
NNï ñ
;
NNñ ó
TempDataOO 
[OO 
$strOO !
]OO! "
=OO# $
$strOO% )
;OO) *
	@ViewDataPP 
[PP 
$strPP 
]PP 
=PP  !
TempDataPP" *
[PP* +
$strPP+ 3
]PP3 4
;PP4 5
returnQQ 
ViewQQ 
(QQ 
)QQ 
;QQ 
}RR 
catchSS 
(SS 
	ExceptionSS 
eSS 
)SS 
{TT 
returnUU 
ViewUU 
(UU 
eUU 
.UU 
MessageUU %
)UU% &
;UU& '
}VV 
}WW 	
publicYY 
ActionResultYY 
AdminEditProductYY ,
(YY, -
)YY- .
{ZZ 	
string[[ 
idUser[[ 
=[[ 
System[[ "
.[[" #
Web[[# &
.[[& '
HttpContext[[' 2
.[[2 3
Current[[3 :
.[[: ;
Session[[; B
[[[B C
$str[[C G
][[G H
.[[H I
ToString[[I Q
([[Q R
)[[R S
;[[S T
SqlParameter\\ 
param1\\ 
=\\  !
new\\" %
SqlParameter\\& 2
(\\2 3
$str\\3 8
,\\8 9
idUser\\: @
)\\@ A
;\\A B'
DBPawnshopEntitiesConection]] '
db]]( *
=]]+ ,
new]]- 0'
DBPawnshopEntitiesConection]]1 L
(]]L M
)]]M N
;]]N O
var__ 
getProducts__ 
=__ 
db__  
.__  !
Database__! )
.__) *
SqlQuery__* 2
<__2 3

tblGarment__3 =
>__= >
(__> ?
$str__? S
,__S T
param1__U [
)__[ \
.__\ ]
ToList__] c
(__c d
)__d e
;__e f

SelectList`` 
list`` 
=`` 
new`` !

SelectList``" ,
(``, -
getProducts``- 8
,``8 9
$str``: A
,``A B
$str``C L
)``L M
;``M N
ViewBagaa 
.aa 
Servicesaa 
=aa 
listaa #
;aa# $
returnbb 
Viewbb 
(bb 
)bb 
;bb 
}cc 	
[ee 	
HttpPostee	 
]ee 
publicff 
ActionResultff 
AdminEditProductff ,
(ff, -

tblGarmentff- 7

collectionff8 B
)ffB C
{gg 	
varii 
optionValueii 
=ii 
Requestii %
.ii% &
Formii& *
[ii* +
$strii+ 5
]ii5 6
;ii6 7
Systemjj 
.jj 
Webjj 
.jj 
HttpContextjj "
.jj" #
Currentjj# *
.jj* +
Sessionjj+ 2
[jj2 3
$strjj3 :
]jj: ;
=jj< =
optionValuejj> I
;jjI J
returnkk 
RedirectToActionkk #
(kk# $
$strkk$ 7
)kk7 8
;kk8 9
}ll 	
publicnn 
ActionResultnn 
AdminEditProduct2nn -
(nn- .
)nn. /
{oo 	
stringpp 
idProdpp 
=pp 
Systempp "
.pp" #
Webpp# &
.pp& '
HttpContextpp' 2
.pp2 3
Currentpp3 :
.pp: ;
Sessionpp; B
[ppB C
$strppC J
]ppJ K
.ppK L
ToStringppL T
(ppT U
)ppU V
;ppV W
varrr 
dbrr 
=rr 
newrr '
DBPawnshopEntitiesConectionrr 4
(rr4 5
)rr5 6
;rr6 7
SqlParameterss 
param1ss 
=ss  !
newss" %
SqlParameterss& 2
(ss2 3
$strss3 8
,ss8 9
idProdss: @
)ss@ A
;ssA B
vartt 
datatt 
=tt 
dbtt 
.tt 
Databasett "
.tt" #
SqlQuerytt# +
<tt+ ,

tblGarmenttt, 6
>tt6 7
(tt7 8
$strtt8 H
,ttH I
param1ttJ P
)ttP Q
.ttQ R
FirstOrDefaultttR `
(tt` a
)tta b
;ttb c
returnuu 
Viewuu 
(uu 
datauu 
)uu 
;uu 
}vv 	
[xx 	
HttpPostxx	 
]xx 
[yy 	$
ValidateAntiForgeryTokenyy	 !
]yy! "
publiczz 
ActionResultzz 
AdminEditProduct2zz -
(zz- .

tblGarmentzz. 8

collectionzz9 C
)zzC D
{{{ 	
var}} 
db}} 
=}} 
new}} '
DBPawnshopEntitiesConection}} 4
(}}4 5
)}}5 6
;}}6 7

tblGarment~~ 
_dbp~~ 
=~~ 
new~~ !

tblGarment~~" ,
(~~, -
)~~- .
;~~. /
HttpPostedFileBase 
FileBase '
=( )
Request* 1
.1 2
Files2 7
[7 8
$num8 9
]9 :
;: ;
string
ÄÄ 
idProd
ÄÄ 
=
ÄÄ 
System
ÄÄ "
.
ÄÄ" #
Web
ÄÄ# &
.
ÄÄ& '
HttpContext
ÄÄ' 2
.
ÄÄ2 3
Current
ÄÄ3 :
.
ÄÄ: ;
Session
ÄÄ; B
[
ÄÄB C
$str
ÄÄC J
]
ÄÄJ K
.
ÄÄK L
ToString
ÄÄL T
(
ÄÄT U
)
ÄÄU V
;
ÄÄV W
string
ÅÅ 
idUser
ÅÅ 
=
ÅÅ 
System
ÅÅ "
.
ÅÅ" #
Web
ÅÅ# &
.
ÅÅ& '
HttpContext
ÅÅ' 2
.
ÅÅ2 3
Current
ÅÅ3 :
.
ÅÅ: ;
Session
ÅÅ; B
[
ÅÅB C
$str
ÅÅC G
]
ÅÅG H
.
ÅÅH I
ToString
ÅÅI Q
(
ÅÅQ R
)
ÅÅR S
;
ÅÅS T
if
ÉÉ 
(
ÉÉ 
FileBase
ÉÉ 
.
ÉÉ 
ContentLength
ÉÉ &
==
ÉÉ' )
$num
ÉÉ* +
)
ÉÉ+ ,
{
ÑÑ 
_dbp
ÜÜ 
=
ÜÜ 
db
ÜÜ 
.
ÜÜ 

tblGarment
ÜÜ $
.
ÜÜ$ %
Find
ÜÜ% )
(
ÜÜ) *
idProd
ÜÜ* 0
)
ÜÜ0 1
;
ÜÜ1 2
SqlParameter
áá 
param1
áá #
=
áá$ %
new
áá& )
SqlParameter
áá* 6
(
áá6 7
$str
áá7 <
,
áá< =
idProd
áá> D
)
ááD E
;
ááE F
SqlParameter
àà 
param2
àà #
=
àà$ %
new
àà& )
SqlParameter
àà* 6
(
àà6 7
$str
àà7 >
,
àà> ?

collection
àà@ J
.
ààJ K
gmtName
ààK R
)
ààR S
;
ààS T
SqlParameter
ââ 
param3
ââ #
=
ââ$ %
new
ââ& )
SqlParameter
ââ* 6
(
ââ6 7
$str
ââ7 >
,
ââ> ?

collection
ââ@ J
.
ââJ K
gmtType
ââK R
)
ââR S
;
ââS T
SqlParameter
ää 
param4
ää #
=
ää$ %
new
ää& )
SqlParameter
ää* 6
(
ää6 7
$str
ää7 C
,
ääC D

collection
ääE O
.
ääO P
gmtCondition
ääP \
)
ää\ ]
;
ää] ^
SqlParameter
ãã 
param5
ãã #
=
ãã$ %
new
ãã& )
SqlParameter
ãã* 6
(
ãã6 7
$str
ãã7 @
,
ãã@ A

collection
ããB L
.
ããL M
gmtPrice
ããM U
)
ããU V
;
ããV W
SqlParameter
åå 
param6
åå #
=
åå$ %
new
åå& )
SqlParameter
åå* 6
(
åå6 7
$str
åå7 >
,
åå> ?
idUser
åå@ F
)
ååF G
;
ååG H
SqlParameter
çç 
param7
çç #
=
çç$ %
new
çç& )
SqlParameter
çç* 6
(
çç6 7
$str
çç7 =
,
çç= >

collection
çç? I
.
ççI J
gmtImage
ççJ R
=
ççS T
_dbp
ççU Y
.
ççY Z
gmtImage
ççZ b
)
ççb c
;
ççc d
var
éé 
data
éé 
=
éé 
db
éé 
.
éé 
Database
éé &
.
éé& '
ExecuteSqlCommand
éé' 8
(
éé8 9
$str
éé9 z
,
ééz {
param1éé| Ç
,ééÇ É
param2ééÑ ä
,ééä ã
param3ééå í
,ééí ì
param4ééî ö
,ééö õ
param5ééú ¢
,éé¢ £
param6éé§ ™
,éé™ ´
param7éé´ ±
)éé± ≤
;éé≤ ≥
TempData
èè 
[
èè 
$str
èè !
]
èè! "
=
èè# $
$str
èè% )
;
èè) *
	@ViewData
êê 
[
êê 
$str
êê 
]
êê 
=
êê  !
TempData
êê" *
[
êê* +
$str
êê+ 3
]
êê3 4
;
êê4 5
return
ëë 
View
ëë 
(
ëë 
)
ëë 
;
ëë 
}
ìì 
else
îî 
{
ïï 
WebImage
óó 
image
óó 
=
óó  
new
óó! $
WebImage
óó% -
(
óó- .
FileBase
óó. 6
.
óó6 7
InputStream
óó7 B
)
óóB C
;
óóC D
SqlParameter
òò 
param1
òò #
=
òò$ %
new
òò& )
SqlParameter
òò* 6
(
òò6 7
$str
òò7 <
,
òò< =
idProd
òò> D
)
òòD E
;
òòE F
SqlParameter
ôô 
param2
ôô #
=
ôô$ %
new
ôô& )
SqlParameter
ôô* 6
(
ôô6 7
$str
ôô7 >
,
ôô> ?

collection
ôô@ J
.
ôôJ K
gmtName
ôôK R
)
ôôR S
;
ôôS T
SqlParameter
öö 
param3
öö #
=
öö$ %
new
öö& )
SqlParameter
öö* 6
(
öö6 7
$str
öö7 >
,
öö> ?

collection
öö@ J
.
ööJ K
gmtType
ööK R
)
ööR S
;
ööS T
SqlParameter
õõ 
param4
õõ #
=
õõ$ %
new
õõ& )
SqlParameter
õõ* 6
(
õõ6 7
$str
õõ7 C
,
õõC D

collection
õõE O
.
õõO P
gmtCondition
õõP \
)
õõ\ ]
;
õõ] ^
SqlParameter
úú 
param5
úú #
=
úú$ %
new
úú& )
SqlParameter
úú* 6
(
úú6 7
$str
úú7 @
,
úú@ A

collection
úúB L
.
úúL M
gmtPrice
úúM U
)
úúU V
;
úúV W
SqlParameter
ùù 
param6
ùù #
=
ùù$ %
new
ùù& )
SqlParameter
ùù* 6
(
ùù6 7
$str
ùù7 >
,
ùù> ?
idUser
ùù@ F
)
ùùF G
;
ùùG H
SqlParameter
ûû 
param7
ûû #
=
ûû$ %
new
ûû& )
SqlParameter
ûû* 6
(
ûû6 7
$str
ûû7 =
,
ûû= >

collection
ûû? I
.
ûûI J
gmtImage
ûûJ R
=
ûûS T
image
ûûU Z
.
ûûZ [
GetBytes
ûû[ c
(
ûûc d
)
ûûd e
)
ûûe f
;
ûûf g
var
üü 
data
üü 
=
üü 
db
üü 
.
üü 
Database
üü &
.
üü& '
ExecuteSqlCommand
üü' 8
(
üü8 9
$str
üü9 z
,
üüz {
param1üü| Ç
,üüÇ É
param2üüÑ ä
,üüä ã
param3üüå í
,üüí ì
param4üüî ö
,üüö õ
param5üüú ¢
,üü¢ £
param6üü§ ™
,üü™ ´
param7üü¨ ≤
)üü≤ ≥
;üü≥ ¥
TempData
†† 
[
†† 
$str
†† !
]
††! "
=
††# $
$str
††% )
;
††) *
	@ViewData
°° 
[
°° 
$str
°° 
]
°° 
=
°°  !
TempData
°°" *
[
°°* +
$str
°°+ 3
]
°°3 4
;
°°4 5
return
¢¢ 
View
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
}
££ 
}
§§ 	
public
¶¶ 
ActionResult
¶¶ 
getImage
¶¶ $
(
¶¶$ %
)
¶¶% &
{
ßß 	
string
©© 
idProd
©© 
=
©© 
System
©© "
.
©©" #
Web
©©# &
.
©©& '
HttpContext
©©' 2
.
©©2 3
Current
©©3 :
.
©©: ;
Session
©©; B
[
©©B C
$str
©©C J
]
©©J K
.
©©K L
ToString
©©L T
(
©©T U
)
©©U V
;
©©V W
var
™™ 
db
™™ 
=
™™ 
new
™™ )
DBPawnshopEntitiesConection
™™ 4
(
™™4 5
)
™™5 6
;
™™6 7

tblGarment
´´ 
img
´´ 
=
´´ 
db
´´ 
.
´´  

tblGarment
´´  *
.
´´* +
Find
´´+ /
(
´´/ 0
idProd
´´0 6
)
´´6 7
;
´´7 8
byte
¨¨ 
[
¨¨ 
]
¨¨ 
	byteImage
¨¨ 
=
¨¨ 
img
¨¨ "
.
¨¨" #
gmtImage
¨¨# +
;
¨¨+ ,
MemoryStream
ÆÆ 
memoryStream
ÆÆ %
=
ÆÆ& '
new
ÆÆ( +
MemoryStream
ÆÆ, 8
(
ÆÆ8 9
	byteImage
ÆÆ9 B
)
ÆÆB C
;
ÆÆC D
System
ØØ 
.
ØØ 
Drawing
ØØ 
.
ØØ 
Image
ØØ  
image
ØØ! &
=
ØØ' (
System
ØØ) /
.
ØØ/ 0
Drawing
ØØ0 7
.
ØØ7 8
Image
ØØ8 =
.
ØØ= >

FromStream
ØØ> H
(
ØØH I
memoryStream
ØØI U
)
ØØU V
;
ØØV W
memoryStream
∞∞ 
=
∞∞ 
new
∞∞ 
MemoryStream
∞∞ +
(
∞∞+ ,
)
∞∞, -
;
∞∞- .
image
±± 
.
±± 
Save
±± 
(
±± 
memoryStream
±± #
,
±±# $
ImageFormat
±±% 0
.
±±0 1
Jpeg
±±1 5
)
±±5 6
;
±±6 7
memoryStream
≤≤ 
.
≤≤ 
Position
≤≤ !
=
≤≤" #
$num
≤≤$ %
;
≤≤% &
return
≥≥ 
File
≥≥ 
(
≥≥ 
memoryStream
≥≥ $
,
≥≥$ %
$str
≥≥% 0
)
≥≥0 1
;
≥≥1 2
}
¥¥ 	
public
∂∂ 
ActionResult
∂∂  
AdminDeleteProduct
∂∂ .
(
∂∂. /
)
∂∂/ 0
{
∑∑ 	
string
ππ 
idUser
ππ 
=
ππ 
System
ππ "
.
ππ" #
Web
ππ# &
.
ππ& '
HttpContext
ππ' 2
.
ππ2 3
Current
ππ3 :
.
ππ: ;
Session
ππ; B
[
ππB C
$str
ππC G
]
ππG H
.
ππH I
ToString
ππI Q
(
ππQ R
)
ππR S
;
ππS T
SqlParameter
∫∫ 
param1
∫∫ 
=
∫∫  !
new
∫∫" %
SqlParameter
∫∫& 2
(
∫∫2 3
$str
∫∫3 8
,
∫∫8 9
idUser
∫∫: @
)
∫∫@ A
;
∫∫A B)
DBPawnshopEntitiesConection
ªª '
db
ªª( *
=
ªª+ ,
new
ªª- 0)
DBPawnshopEntitiesConection
ªª1 L
(
ªªL M
)
ªªM N
;
ªªN O
var
ºº 
getProducts
ºº 
=
ºº 
db
ºº  
.
ºº  !
Database
ºº! )
.
ºº) *
SqlQuery
ºº* 2
<
ºº2 3

tblGarment
ºº3 =
>
ºº= >
(
ºº> ?
$str
ºº? S
,
ººS T
param1
ººU [
)
ºº[ \
.
ºº\ ]
ToList
ºº] c
(
ººc d
)
ººd e
;
ººe f

SelectList
ΩΩ 
list
ΩΩ 
=
ΩΩ 
new
ΩΩ !

SelectList
ΩΩ" ,
(
ΩΩ, -
getProducts
ΩΩ- 8
,
ΩΩ8 9
$str
ΩΩ: A
,
ΩΩA B
$str
ΩΩC L
)
ΩΩL M
;
ΩΩM N
ViewBag
ææ 
.
ææ 
Services
ææ 
=
ææ 
list
ææ #
;
ææ# $
return
øø 
View
øø 
(
øø 
)
øø 
;
øø 
}
¿¿ 	
[
¬¬ 	
HttpPost
¬¬	 
]
¬¬ 
public
√√ 
ActionResult
√√  
AdminDeleteProduct
√√ .
(
√√. /

tblGarment
√√/ 9

collection
√√: D
)
√√D E
{
ƒƒ 	
var
∆∆ 
optionValue
∆∆ 
=
∆∆ 
Request
∆∆ %
.
∆∆% &
Form
∆∆& *
[
∆∆* +
$str
∆∆+ 5
]
∆∆5 6
;
∆∆6 7
System
«« 
.
«« 
Web
«« 
.
«« 
HttpContext
«« "
.
««" #
Current
««# *
.
««* +
Session
««+ 2
[
««2 3
$str
««3 :
]
««: ;
=
««< =
optionValue
««> I
;
««I J
return
»» 
RedirectToAction
»» #
(
»»# $
$str
»»$ 9
)
»»9 :
;
»»: ;
}
…… 	
public
ÀÀ 
ActionResult
ÀÀ !
AdminDeleteProduct2
ÀÀ /
(
ÀÀ/ 0
)
ÀÀ0 1
{
ÃÃ 	
string
ŒŒ 
idProd
ŒŒ 
=
ŒŒ 
System
ŒŒ "
.
ŒŒ" #
Web
ŒŒ# &
.
ŒŒ& '
HttpContext
ŒŒ' 2
.
ŒŒ2 3
Current
ŒŒ3 :
.
ŒŒ: ;
Session
ŒŒ; B
[
ŒŒB C
$str
ŒŒC J
]
ŒŒJ K
.
ŒŒK L
ToString
ŒŒL T
(
ŒŒT U
)
ŒŒU V
;
ŒŒV W
var
œœ 
db
œœ 
=
œœ 
new
œœ )
DBPawnshopEntitiesConection
œœ 4
(
œœ4 5
)
œœ5 6
;
œœ6 7
SqlParameter
–– 
param1
–– 
=
––  !
new
––" %
SqlParameter
––& 2
(
––2 3
$str
––3 8
,
––8 9
idProd
––: @
)
––@ A
;
––A B
var
—— 
data
—— 
=
—— 
db
—— 
.
—— 
Database
—— "
.
——" #
SqlQuery
——# +
<
——+ ,

tblGarment
——, 6
>
——6 7
(
——7 8
$str
——8 H
,
——H I
param1
——J P
)
——P Q
.
——Q R
FirstOrDefault
——R `
(
——` a
)
——a b
;
——b c
return
““ 
View
““ 
(
““ 
data
““ 
)
““ 
;
““ 
}
”” 	
[
’’ 	
HttpPost
’’	 
]
’’ 
public
÷÷ 
ActionResult
÷÷ !
AdminDeleteProduct2
÷÷ /
(
÷÷/ 0
FormCollection
÷÷0 >

collection
÷÷? I
)
÷÷I J
{
◊◊ 	
string
ŸŸ 
idProd
ŸŸ 
=
ŸŸ 
System
ŸŸ "
.
ŸŸ" #
Web
ŸŸ# &
.
ŸŸ& '
HttpContext
ŸŸ' 2
.
ŸŸ2 3
Current
ŸŸ3 :
.
ŸŸ: ;
Session
ŸŸ; B
[
ŸŸB C
$str
ŸŸC J
]
ŸŸJ K
.
ŸŸK L
ToString
ŸŸL T
(
ŸŸT U
)
ŸŸU V
;
ŸŸV W
var
⁄⁄ 
db
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ )
DBPawnshopEntitiesConection
⁄⁄ 4
(
⁄⁄4 5
)
⁄⁄5 6
;
⁄⁄6 7
SqlParameter
€€ 
param1
€€ 
=
€€  !
new
€€" %
SqlParameter
€€& 2
(
€€2 3
$str
€€3 8
,
€€8 9
idProd
€€: @
)
€€@ A
;
€€A B
db
‹‹ 
.
‹‹ 
Database
‹‹ 
.
‹‹ 
ExecuteSqlCommand
‹‹ )
(
‹‹) *
$str
‹‹* =
,
‹‹= >
param1
‹‹? E
)
‹‹E F
;
‹‹F G
return
›› 
RedirectToAction
›› #
(
››# $
$str
››$ 8
)
››8 9
;
››9 :
}
ﬁﬁ 	
public
‡‡ 
ActionResult
‡‡ 
getImageGar
‡‡ '
(
‡‡' (
string
‡‡( .
id
‡‡/ 1
)
‡‡1 2
{
·· 	
var
‚‚ 
db
‚‚ 
=
‚‚ 
new
‚‚ )
DBPawnshopEntitiesConection
‚‚ 4
(
‚‚4 5
)
‚‚5 6
;
‚‚6 7

tblGarment
„„ 
img
„„ 
=
„„ 
db
„„ 
.
„„  

tblGarment
„„  *
.
„„* +
Find
„„+ /
(
„„/ 0
id
„„0 2
)
„„2 3
;
„„3 4
byte
‰‰ 
[
‰‰ 
]
‰‰ 
	byteImage
‰‰ 
=
‰‰ 
img
‰‰ "
.
‰‰" #
gmtImage
‰‰# +
;
‰‰+ ,
MemoryStream
ÂÂ 
memoryStream
ÂÂ %
=
ÂÂ& '
new
ÂÂ( +
MemoryStream
ÂÂ, 8
(
ÂÂ8 9
	byteImage
ÂÂ9 B
)
ÂÂB C
;
ÂÂC D
System
ÊÊ 
.
ÊÊ 
Drawing
ÊÊ 
.
ÊÊ 
Image
ÊÊ  
image
ÊÊ! &
=
ÊÊ' (
System
ÊÊ) /
.
ÊÊ/ 0
Drawing
ÊÊ0 7
.
ÊÊ7 8
Image
ÊÊ8 =
.
ÊÊ= >

FromStream
ÊÊ> H
(
ÊÊH I
memoryStream
ÊÊI U
)
ÊÊU V
;
ÊÊV W
memoryStream
ÁÁ 
=
ÁÁ 
new
ÁÁ 
MemoryStream
ÁÁ +
(
ÁÁ+ ,
)
ÁÁ, -
;
ÁÁ- .
image
ËË 
.
ËË 
Save
ËË 
(
ËË 
memoryStream
ËË #
,
ËË# $
ImageFormat
ËË% 0
.
ËË0 1
Jpeg
ËË1 5
)
ËË5 6
;
ËË6 7
memoryStream
ÈÈ 
.
ÈÈ 
Position
ÈÈ !
=
ÈÈ" #
$num
ÈÈ$ %
;
ÈÈ% &
return
ÍÍ 
File
ÍÍ 
(
ÍÍ 
memoryStream
ÍÍ $
,
ÍÍ$ %
$str
ÍÍ& 1
)
ÍÍ1 2
;
ÍÍ2 3
}
ÎÎ 	
public
ÌÌ 
ActionResult
ÌÌ 
AdminListProduct
ÌÌ ,
(
ÌÌ, -
)
ÌÌ- .
{
ÓÓ 	)
DBPawnshopEntitiesConection
 '
db
( *
=
+ ,
new
- 0)
DBPawnshopEntitiesConection
1 L
(
L M
)
M N
;
N O
string
ÒÒ 
idUser
ÒÒ 
=
ÒÒ 
System
ÒÒ "
.
ÒÒ" #
Web
ÒÒ# &
.
ÒÒ& '
HttpContext
ÒÒ' 2
.
ÒÒ2 3
Current
ÒÒ3 :
.
ÒÒ: ;
Session
ÒÒ; B
[
ÒÒB C
$str
ÒÒC G
]
ÒÒG H
.
ÒÒH I
ToString
ÒÒI Q
(
ÒÒQ R
)
ÒÒR S
;
ÒÒS T
SqlParameter
ÚÚ 
param1
ÚÚ 
=
ÚÚ  !
new
ÚÚ" %
SqlParameter
ÚÚ& 2
(
ÚÚ2 3
$str
ÚÚ3 8
,
ÚÚ8 9
idUser
ÚÚ: @
)
ÚÚ@ A
;
ÚÚA B
var
ÛÛ 
data
ÛÛ 
=
ÛÛ 
db
ÛÛ 
.
ÛÛ 
Database
ÛÛ "
.
ÛÛ" #
SqlQuery
ÛÛ# +
<
ÛÛ+ ,

tblGarment
ÛÛ, 6
>
ÛÛ6 7
(
ÛÛ7 8
$str
ÛÛ8 L
,
ÛÛL M
param1
ÛÛN T
)
ÛÛT U
;
ÛÛU V
return
ÙÙ 
View
ÙÙ 
(
ÙÙ 
data
ÙÙ 
.
ÙÙ 
ToList
ÙÙ #
(
ÙÙ# $
)
ÙÙ$ %
)
ÙÙ% &
;
ÙÙ& '
}
ıı 	
public
˜˜ 
ActionResult
˜˜ 
UserRegInfo
˜˜ '
(
˜˜' (
)
˜˜( )
{
¯¯ 	
var
˙˙ 
db
˙˙ 
=
˙˙ 
new
˙˙ )
DBPawnshopEntitiesConection
˙˙ 4
(
˙˙4 5
)
˙˙5 6
;
˙˙6 7
string
˚˚ 
idUser
˚˚ 
=
˚˚ 
System
˚˚ "
.
˚˚" #
Web
˚˚# &
.
˚˚& '
HttpContext
˚˚' 2
.
˚˚2 3
Current
˚˚3 :
.
˚˚: ;
Session
˚˚; B
[
˚˚B C
$str
˚˚C G
]
˚˚G H
.
˚˚H I
ToString
˚˚I Q
(
˚˚Q R
)
˚˚R S
;
˚˚S T
SqlParameter
¸¸ 
param1
¸¸ 
=
¸¸  !
new
¸¸" %
SqlParameter
¸¸& 2
(
¸¸2 3
$str
¸¸3 8
,
¸¸8 9
idUser
¸¸: @
)
¸¸@ A
;
¸¸A B
var
˝˝ 
data
˝˝ 
=
˝˝ 
db
˝˝ 
.
˝˝ 
Database
˝˝ "
.
˝˝" #
SqlQuery
˝˝# +
<
˝˝+ ,
tblInfoUser
˝˝, 7
>
˝˝7 8
(
˝˝8 9
$str
˝˝9 R
,
˝˝R S
param1
˝˝T Z
)
˝˝Z [
.
˝˝[ \
ToList
˝˝\ b
(
˝˝b c
)
˝˝c d
;
˝˝d e
var
˛˛ 
tipos
˛˛ 
=
˛˛ 
data
˛˛ 
.
˛˛ 
Select
˛˛ #
(
˛˛# $
x
˛˛$ %
=>
˛˛& (
x
˛˛) *
.
˛˛* +
usID
˛˛+ /
)
˛˛/ 0
;
˛˛0 1
if
ÄÄ 
(
ÄÄ 
tipos
ÄÄ 
.
ÄÄ 
FirstOrDefault
ÄÄ #
(
ÄÄ# $
)
ÄÄ$ %
!=
ÄÄ& (
null
ÄÄ) -
)
ÄÄ- .
{
ÅÅ 
TempData
ÇÇ 
[
ÇÇ 
$str
ÇÇ "
]
ÇÇ" #
=
ÇÇ$ %
$str
ÇÇ& *
;
ÇÇ* +
	@ViewData
ÉÉ 
[
ÉÉ 
$str
ÉÉ 
]
ÉÉ  
=
ÉÉ! "
TempData
ÉÉ# +
[
ÉÉ+ ,
$str
ÉÉ, 4
]
ÉÉ4 5
;
ÉÉ5 6
return
ÑÑ 
View
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÖÖ 
else
ÜÜ 
{
áá 
return
àà 
View
àà 
(
àà 
)
àà 
;
àà 
}
ââ 
}
ää 	
[
åå 	
HttpPost
åå	 
]
åå 
public
çç 
ActionResult
çç 
UserRegInfo
çç '
(
çç' (
tblInfoUser
çç( 3

collection
çç4 >
)
çç> ?
{
éé 	
try
êê 
{
ëë 
string
íí 
idUser
íí 
=
íí 
System
íí  &
.
íí& '
Web
íí' *
.
íí* +
HttpContext
íí+ 6
.
íí6 7
Current
íí7 >
.
íí> ?
Session
íí? F
[
ííF G
$str
ííG K
]
ííK L
.
ííL M
ToString
ííM U
(
ííU V
)
ííV W
;
ííW X
SqlParameter
ìì 
param1
ìì #
=
ìì$ %
new
ìì& )
SqlParameter
ìì* 6
(
ìì6 7
$str
ìì7 =
,
ìì= >

collection
ìì? I
.
ììI J
DNI
ììJ M
)
ììM N
;
ììN O
SqlParameter
îî 
param2
îî #
=
îî$ %
new
îî& )
SqlParameter
îî* 6
(
îî6 7
$str
îî7 >
,
îî> ?

collection
îî@ J
.
îîJ K
usInfFirstName
îîK Y
)
îîY Z
;
îîZ [
SqlParameter
ïï 
param3
ïï #
=
ïï$ %
new
ïï& )
SqlParameter
ïï* 6
(
ïï6 7
$str
ïï7 B
,
ïïB C

collection
ïïD N
.
ïïN O
usInfLastNameF
ïïO ]
)
ïï] ^
;
ïï^ _
SqlParameter
ññ 
param4
ññ #
=
ññ$ %
new
ññ& )
SqlParameter
ññ* 6
(
ññ6 7
$str
ññ7 B
,
ññB C

collection
ññD N
.
ññN O
usInfLastNameM
ññO ]
)
ññ] ^
;
ññ^ _
SqlParameter
óó 
param5
óó #
=
óó$ %
new
óó& )
SqlParameter
óó* 6
(
óó6 7
$str
óó7 ?
,
óó? @

collection
óóA K
.
óóK L

usInfPhone
óóL V
)
óóV W
;
óóW X
SqlParameter
òò 
param6
òò #
=
òò$ %
new
òò& )
SqlParameter
òò* 6
(
òò6 7
$str
òò7 <
,
òò< =
idUser
òò> D
)
òòD E
;
òòE F
var
ôô 
db
ôô 
=
ôô 
new
ôô )
DBPawnshopEntitiesConection
ôô 8
(
ôô8 9
)
ôô9 :
;
ôô: ;
db
öö 
.
öö 
Database
öö 
.
öö 
ExecuteSqlCommand
öö -
(
öö- .
$str
öö. h
,
ööh i
param1
ööj p
,
ööp q
param2
öör x
,
ööx y
param3ööz Ä
,ööÄ Å
param4ööÇ à
,ööà â
param5ööä ê
,ööê ë
param6ööí ò
)ööò ô
;ööô ö
TempData
õõ 
[
õõ 
$str
õõ !
]
õõ! "
=
õõ# $
$str
õõ% )
;
õõ) *
	@ViewData
úú 
[
úú 
$str
úú 
]
úú 
=
úú  !
TempData
úú" *
[
úú* +
$str
úú+ 3
]
úú3 4
;
úú4 5
return
ùù 
View
ùù 
(
ùù 
)
ùù 
;
ùù 
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
e
üü 
)
üü 
{
†† 
return
°° 
View
°° 
(
°° 
e
°° 
.
°° 
Message
°° %
)
°°% &
;
°°& '
}
¢¢ 
}
££ 	
public
•• 
ActionResult
•• 
UserEditInfo
•• (
(
••( )
)
••) *
{
¶¶ 	
var
®® 
idUser
®® 
=
®® 
System
®® 
.
®®  
Web
®®  #
.
®®# $
HttpContext
®®$ /
.
®®/ 0
Current
®®0 7
.
®®7 8
Session
®®8 ?
[
®®? @
$str
®®@ D
]
®®D E
;
®®E F
var
©© 
db
©© 
=
©© 
new
©© )
DBPawnshopEntitiesConection
©© 4
(
©©4 5
)
©©5 6
;
©©6 7
SqlParameter
™™ 
param1
™™ 
=
™™  !
new
™™" %
SqlParameter
™™& 2
(
™™2 3
$str
™™3 8
,
™™8 9
idUser
™™: @
)
™™@ A
;
™™A B
var
´´ 
data
´´ 
=
´´ 
db
´´ 
.
´´ 
Database
´´ "
.
´´" #
SqlQuery
´´# +
<
´´+ ,
tblInfoUser
´´, 7
>
´´7 8
(
´´8 9
$str
´´9 M
,
´´M N
param1
´´O U
)
´´U V
.
´´V W
FirstOrDefault
´´W e
(
´´e f
)
´´f g
;
´´g h
return
¨¨ 
View
¨¨ 
(
¨¨ 
data
¨¨ 
)
¨¨ 
;
¨¨ 
}
≠≠ 	
[
ØØ 	
HttpPost
ØØ	 
]
ØØ 
public
∞∞ 
ActionResult
∞∞ 
UserEditInfo
∞∞ (
(
∞∞( )
tblInfoUser
∞∞) 4

collection
∞∞5 ?
)
∞∞? @
{
±± 	
try
≥≥ 
{
¥¥ 
string
µµ 
idUser
µµ 
=
µµ 
System
µµ  &
.
µµ& '
Web
µµ' *
.
µµ* +
HttpContext
µµ+ 6
.
µµ6 7
Current
µµ7 >
.
µµ> ?
Session
µµ? F
[
µµF G
$str
µµG K
]
µµK L
.
µµL M
ToString
µµM U
(
µµU V
)
µµV W
;
µµW X
SqlParameter
∂∂ 
param1
∂∂ #
=
∂∂$ %
new
∂∂& )
SqlParameter
∂∂* 6
(
∂∂6 7
$str
∂∂7 =
,
∂∂= >

collection
∂∂? I
.
∂∂I J
DNI
∂∂J M
)
∂∂M N
;
∂∂N O
SqlParameter
∑∑ 
param2
∑∑ #
=
∑∑$ %
new
∑∑& )
SqlParameter
∑∑* 6
(
∑∑6 7
$str
∑∑7 >
,
∑∑> ?

collection
∑∑@ J
.
∑∑J K
usInfFirstName
∑∑K Y
)
∑∑Y Z
;
∑∑Z [
SqlParameter
∏∏ 
param3
∏∏ #
=
∏∏$ %
new
∏∏& )
SqlParameter
∏∏* 6
(
∏∏6 7
$str
∏∏7 B
,
∏∏B C

collection
∏∏D N
.
∏∏N O
usInfLastNameF
∏∏O ]
)
∏∏] ^
;
∏∏^ _
SqlParameter
ππ 
param4
ππ #
=
ππ$ %
new
ππ& )
SqlParameter
ππ* 6
(
ππ6 7
$str
ππ7 B
,
ππB C

collection
ππD N
.
ππN O
usInfLastNameM
ππO ]
)
ππ] ^
;
ππ^ _
SqlParameter
∫∫ 
param5
∫∫ #
=
∫∫$ %
new
∫∫& )
SqlParameter
∫∫* 6
(
∫∫6 7
$str
∫∫7 ?
,
∫∫? @

collection
∫∫A K
.
∫∫K L

usInfPhone
∫∫L V
)
∫∫V W
;
∫∫W X
SqlParameter
ªª 
param6
ªª #
=
ªª$ %
new
ªª& )
SqlParameter
ªª* 6
(
ªª6 7
$str
ªª7 <
,
ªª< =
idUser
ªª> D
)
ªªD E
;
ªªE F
var
ºº 
db
ºº 
=
ºº 
new
ºº )
DBPawnshopEntitiesConection
ºº 8
(
ºº8 9
)
ºº9 :
;
ºº: ;
db
ΩΩ 
.
ΩΩ 
Database
ΩΩ 
.
ΩΩ 
ExecuteSqlCommand
ΩΩ -
(
ΩΩ- .
$str
ΩΩ. o
,
ΩΩo p
param1
ΩΩq w
,
ΩΩw x
param2
ΩΩy 
,ΩΩ Ä
param3ΩΩÅ á
,ΩΩá à
param4ΩΩâ è
,ΩΩè ê
param5ΩΩë ó
,ΩΩó ò
param6ΩΩô ü
)ΩΩü †
;ΩΩ† °
TempData
ææ 
[
ææ 
$str
ææ !
]
ææ! "
=
ææ# $
$str
ææ% )
;
ææ) *
	@ViewData
øø 
[
øø 
$str
øø 
]
øø 
=
øø  !
TempData
øø" *
[
øø* +
$str
øø+ 3
]
øø3 4
;
øø4 5
return
¿¿ 
View
¿¿ 
(
¿¿ 
)
¿¿ 
;
¿¿ 
}
¡¡ 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬ 
e
¬¬ 
)
¬¬ 
{
√√ 
return
ƒƒ 
View
ƒƒ 
(
ƒƒ 
e
ƒƒ 
.
ƒƒ 
Message
ƒƒ %
)
ƒƒ% &
;
ƒƒ& '
}
≈≈ 
}
∆∆ 	
public
»» 
ActionResult
»» 
UserRegSolicitud
»» ,
(
»», -
)
»»- .
{
…… 	
string
   
idUser
   
=
   
System
   "
.
  " #
Web
  # &
.
  & '
HttpContext
  ' 2
.
  2 3
Current
  3 :
.
  : ;
Session
  ; B
[
  B C
$str
  C G
]
  G H
.
  H I
ToString
  I Q
(
  Q R
)
  R S
;
  S T
SqlParameter
ÀÀ 
param1
ÀÀ 
=
ÀÀ  !
new
ÀÀ" %
SqlParameter
ÀÀ& 2
(
ÀÀ2 3
$str
ÀÀ3 8
,
ÀÀ8 9
idUser
ÀÀ: @
)
ÀÀ@ A
;
ÀÀA B)
DBPawnshopEntitiesConection
ÃÃ '
db
ÃÃ( *
=
ÃÃ+ ,
new
ÃÃ- 0)
DBPawnshopEntitiesConection
ÃÃ1 L
(
ÃÃL M
)
ÃÃM N
;
ÃÃN O
var
ŒŒ 
getProducts
ŒŒ 
=
ŒŒ 
db
ŒŒ  
.
ŒŒ  !
Database
ŒŒ! )
.
ŒŒ) *
SqlQuery
ŒŒ* 2
<
ŒŒ2 3

tblGarment
ŒŒ3 =
>
ŒŒ= >
(
ŒŒ> ?
$str
ŒŒ? S
,
ŒŒS T
param1
ŒŒU [
)
ŒŒ[ \
.
ŒŒ\ ]
ToList
ŒŒ] c
(
ŒŒc d
)
ŒŒd e
;
ŒŒe f

SelectList
œœ 
list
œœ 
=
œœ 
new
œœ !

SelectList
œœ" ,
(
œœ, -
getProducts
œœ- 8
,
œœ8 9
$str
œœ: A
,
œœA B
$str
œœC L
)
œœL M
;
œœM N
ViewBag
–– 
.
–– 
Services
–– 
=
–– 
list
–– #
;
––# $
return
—— 
View
—— 
(
—— 
)
—— 
;
—— 
}
““ 	
[
‘‘ 	
HttpPost
‘‘	 
]
‘‘ 
public
’’ 
ActionResult
’’ 
UserRegSolicitud
’’ ,
(
’’, -

tblGarment
’’- 7

collection
’’8 B
)
’’B C
{
÷÷ 	
var
ÿÿ 
optionValue
ÿÿ 
=
ÿÿ 
Request
ÿÿ %
.
ÿÿ% &
Form
ÿÿ& *
[
ÿÿ* +
$str
ÿÿ+ 5
]
ÿÿ5 6
;
ÿÿ6 7
System
ŸŸ 
.
ŸŸ 
Web
ŸŸ 
.
ŸŸ 
HttpContext
ŸŸ "
.
ŸŸ" #
Current
ŸŸ# *
.
ŸŸ* +
Session
ŸŸ+ 2
[
ŸŸ2 3
$str
ŸŸ3 :
]
ŸŸ: ;
=
ŸŸ< =
optionValue
ŸŸ> I
;
ŸŸI J
return
⁄⁄ 
RedirectToAction
⁄⁄ #
(
⁄⁄# $
$str
⁄⁄$ 7
)
⁄⁄7 8
;
⁄⁄8 9
}
€€ 	
public
›› 
ActionResult
›› 
UserRegSolicitud2
›› -
(
››- .
)
››. /
{
ﬁﬁ 	
return
ﬂﬂ 
View
ﬂﬂ 
(
ﬂﬂ 
)
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
[
‚‚ 	
HttpPost
‚‚	 
]
‚‚ 
public
„„ 
ActionResult
„„ 
UserRegSolicitud2
„„ -
(
„„- .
tblSolicitude
„„. ;

collection
„„< F
)
„„F G
{
‰‰ 	
string
ÊÊ 
idUser
ÊÊ 
=
ÊÊ 
System
ÊÊ "
.
ÊÊ" #
Web
ÊÊ# &
.
ÊÊ& '
HttpContext
ÊÊ' 2
.
ÊÊ2 3
Current
ÊÊ3 :
.
ÊÊ: ;
Session
ÊÊ; B
[
ÊÊB C
$str
ÊÊC G
]
ÊÊG H
.
ÊÊH I
ToString
ÊÊI Q
(
ÊÊQ R
)
ÊÊR S
;
ÊÊS T
string
ÁÁ 
idGar
ÁÁ 
=
ÁÁ 
System
ÁÁ !
.
ÁÁ! "
Web
ÁÁ" %
.
ÁÁ% &
HttpContext
ÁÁ& 1
.
ÁÁ1 2
Current
ÁÁ2 9
.
ÁÁ9 :
Session
ÁÁ: A
[
ÁÁA B
$str
ÁÁB I
]
ÁÁI J
.
ÁÁJ K
ToString
ÁÁK S
(
ÁÁS T
)
ÁÁT U
;
ÁÁU V
SqlParameter
ÈÈ 
param1
ÈÈ 
=
ÈÈ  !
new
ÈÈ" %
SqlParameter
ÈÈ& 2
(
ÈÈ2 3
$str
ÈÈ3 8
,
ÈÈ8 9
idUser
ÈÈ: @
)
ÈÈ@ A
;
ÈÈA B
SqlParameter
ÍÍ 
param2
ÍÍ 
=
ÍÍ  !
new
ÍÍ" %
SqlParameter
ÍÍ& 2
(
ÍÍ2 3
$str
ÍÍ3 <
,
ÍÍ< =
idGar
ÍÍ> C
)
ÍÍC D
;
ÍÍD E
SqlParameter
ÎÎ 
param3
ÎÎ 
=
ÎÎ  !
new
ÎÎ" %
SqlParameter
ÎÎ& 2
(
ÎÎ2 3
$str
ÎÎ3 ;
,
ÎÎ; <

collection
ÎÎ= G
.
ÎÎG H
solFecha
ÎÎH P
)
ÎÎP Q
;
ÎÎQ R
SqlParameter
ÏÏ 
param4
ÏÏ 
=
ÏÏ  !
new
ÏÏ" %
SqlParameter
ÏÏ& 2
(
ÏÏ2 3
$str
ÏÏ3 :
,
ÏÏ: ;

collection
ÏÏ< F
.
ÏÏF G
solHora
ÏÏG N
)
ÏÏN O
;
ÏÏO P
var
ÌÌ 
db
ÌÌ 
=
ÌÌ 
new
ÌÌ )
DBPawnshopEntitiesConection
ÌÌ 4
(
ÌÌ4 5
)
ÌÌ5 6
;
ÌÌ6 7
db
ÓÓ 
.
ÓÓ 
Database
ÓÓ 
.
ÓÓ 
ExecuteSqlCommand
ÓÓ )
(
ÓÓ) *
$str
ÓÓ* T
,
ÓÓT U
param1
ÓÓV \
,
ÓÓ\ ]
param2
ÓÓ] c
,
ÓÓc d
param3
ÓÓe k
,
ÓÓk l
param4
ÓÓm s
)
ÓÓs t
;
ÓÓt u
TempData
ÔÔ 
[
ÔÔ 
$str
ÔÔ 
]
ÔÔ 
=
ÔÔ  
$str
ÔÔ! %
;
ÔÔ% &
	@ViewData
 
[
 
$str
 
]
 
=
 
TempData
 &
[
& '
$str
' /
]
/ 0
;
0 1
return
ÒÒ 
View
ÒÒ 
(
ÒÒ 
)
ÒÒ 
;
ÒÒ 
}
ÚÚ 	
public
ÙÙ 
ActionResult
ÙÙ 
UserEditSolicitud
ÙÙ -
(
ÙÙ- .
)
ÙÙ. /
{
ıı 	
string
ˆˆ 
idUser
ˆˆ 
=
ˆˆ 
System
ˆˆ "
.
ˆˆ" #
Web
ˆˆ# &
.
ˆˆ& '
HttpContext
ˆˆ' 2
.
ˆˆ2 3
Current
ˆˆ3 :
.
ˆˆ: ;
Session
ˆˆ; B
[
ˆˆB C
$str
ˆˆC G
]
ˆˆG H
.
ˆˆH I
ToString
ˆˆI Q
(
ˆˆQ R
)
ˆˆR S
;
ˆˆS T
SqlParameter
˜˜ 
param1
˜˜ 
=
˜˜  !
new
˜˜" %
SqlParameter
˜˜& 2
(
˜˜2 3
$str
˜˜3 8
,
˜˜8 9
idUser
˜˜: @
)
˜˜@ A
;
˜˜A B)
DBPawnshopEntitiesConection
¯¯ '
db
¯¯( *
=
¯¯+ ,
new
¯¯- 0)
DBPawnshopEntitiesConection
¯¯1 L
(
¯¯L M
)
¯¯M N
;
¯¯N O
var
˙˙ 
getSolicitude
˙˙ 
=
˙˙ 
db
˙˙  "
.
˙˙" #
Database
˙˙# +
.
˙˙+ ,
SqlQuery
˙˙, 4
<
˙˙4 5
tblSolicitude
˙˙5 B
>
˙˙B C
(
˙˙C D
$str
˙˙D \
,
˙˙\ ]
param1
˙˙^ d
)
˙˙d e
.
˙˙e f
ToList
˙˙f l
(
˙˙l m
)
˙˙m n
;
˙˙n o

SelectList
˚˚ 
list
˚˚ 
=
˚˚ 
new
˚˚ !

SelectList
˚˚" ,
(
˚˚, -
getSolicitude
˚˚- :
,
˚˚: ;
$str
˚˚< C
,
˚˚C D
$str
˚˚E R
)
˚˚R S
;
˚˚S T
ViewBag
¸¸ 
.
¸¸ 
Services
¸¸ 
=
¸¸ 
list
¸¸ #
;
¸¸# $
return
˝˝ 
View
˝˝ 
(
˝˝ 
)
˝˝ 
;
˝˝ 
}
˛˛ 	
[
ÄÄ 	
HttpPost
ÄÄ	 
]
ÄÄ 
public
ÅÅ 
ActionResult
ÅÅ 
UserEditSolicitud
ÅÅ -
(
ÅÅ- .
tblSolicitude
ÅÅ. ;

collection
ÅÅ< F
)
ÅÅF G
{
ÇÇ 	
var
ÑÑ 
optionValue
ÑÑ 
=
ÑÑ 
Request
ÑÑ %
.
ÑÑ% &
Form
ÑÑ& *
[
ÑÑ* +
$str
ÑÑ+ 6
]
ÑÑ6 7
;
ÑÑ7 8
System
ÖÖ 
.
ÖÖ 
Web
ÖÖ 
.
ÖÖ 
HttpContext
ÖÖ "
.
ÖÖ" #
Current
ÖÖ# *
.
ÖÖ* +
Session
ÖÖ+ 2
[
ÖÖ2 3
$str
ÖÖ3 :
]
ÖÖ: ;
=
ÖÖ< =
optionValue
ÖÖ> I
;
ÖÖI J
return
ÜÜ 
RedirectToAction
ÜÜ #
(
ÜÜ# $
$str
ÜÜ$ 8
)
ÜÜ8 9
;
ÜÜ9 :
}
áá 	
public
ââ 
ActionResult
ââ  
UserEditSolicitud2
ââ .
(
ââ. /
)
ââ/ 0
{
ää 	
string
ãã 
idSol
ãã 
=
ãã 
System
ãã !
.
ãã! "
Web
ãã" %
.
ãã% &
HttpContext
ãã& 1
.
ãã1 2
Current
ãã2 9
.
ãã9 :
Session
ãã: A
[
ããA B
$str
ããB I
]
ããI J
.
ããJ K
ToString
ããK S
(
ããS T
)
ããT U
;
ããU V
var
çç 
db
çç 
=
çç 
new
çç )
DBPawnshopEntitiesConection
çç 4
(
çç4 5
)
çç5 6
;
çç6 7
SqlParameter
éé 
param1
éé 
=
éé  !
new
éé" %
SqlParameter
éé& 2
(
éé2 3
$str
éé3 8
,
éé8 9
idSol
éé: ?
)
éé? @
;
éé@ A
var
èè 
data
èè 
=
èè 
db
èè 
.
èè 
Database
èè "
.
èè" #
SqlQuery
èè# +
<
èè+ ,
tblSolicitude
èè, 9
>
èè9 :
(
èè: ;
$str
èè; R
,
èèR S
param1
èèT Z
)
èèZ [
.
èè[ \
FirstOrDefault
èè\ j
(
èèj k
)
èèk l
;
èèl m
return
êê 
View
êê 
(
êê 
data
êê 
)
êê 
;
êê 
}
ëë 	
[
ìì 	
HttpPost
ìì	 
]
ìì 
public
îî 
ActionResult
îî  
UserEditSolicitud2
îî .
(
îî. /
tblSolicitude
îî/ <

collection
îî= G
)
îîG H
{
ïï 	
string
ññ 
idSol
ññ 
=
ññ 
System
ññ !
.
ññ! "
Web
ññ" %
.
ññ% &
HttpContext
ññ& 1
.
ññ1 2
Current
ññ2 9
.
ññ9 :
Session
ññ: A
[
ññA B
$str
ññB I
]
ññI J
.
ññJ K
ToString
ññK S
(
ññS T
)
ññT U
;
ññU V
SqlParameter
òò 
param1
òò 
=
òò  !
new
òò" %
SqlParameter
òò& 2
(
òò2 3
$str
òò3 8
,
òò8 9
idSol
òò: ?
)
òò? @
;
òò@ A
SqlParameter
ôô 
param2
ôô 
=
ôô  !
new
ôô" %
SqlParameter
ôô& 2
(
ôô2 3
$str
ôô3 ;
,
ôô; <

collection
ôô= G
.
ôôG H
solFecha
ôôH P
)
ôôP Q
;
ôôQ R
SqlParameter
öö 
param3
öö 
=
öö  !
new
öö" %
SqlParameter
öö& 2
(
öö2 3
$str
öö3 :
,
öö: ;

collection
öö< F
.
ööF G
solHora
ööG N
)
ööN O
;
ööO P
var
õõ 
db
õõ 
=
õõ 
new
õõ )
DBPawnshopEntitiesConection
õõ 4
(
õõ4 5
)
õõ5 6
;
õõ6 7
db
úú 
.
úú 
Database
úú 
.
úú 
ExecuteSqlCommand
úú )
(
úú) *
$str
úú* M
,
úúM N
param1
úúO U
,
úúU V
param2
úúW ]
,
úú] ^
param3
úú_ e
)
úúe f
;
úúf g
TempData
ùù 
[
ùù 
$str
ùù 
]
ùù 
=
ùù  
$str
ùù! %
;
ùù% &
	@ViewData
ûû 
[
ûû 
$str
ûû 
]
ûû 
=
ûû 
TempData
ûû &
[
ûû& '
$str
ûû' /
]
ûû/ 0
;
ûû0 1
return
üü 
View
üü 
(
üü 
)
üü 
;
üü 
}
†† 	
public
¢¢ 
ActionResult
¢¢ 
UserDelSolicitud
¢¢ ,
(
¢¢, -
)
¢¢- .
{
££ 	
string
§§ 
idUser
§§ 
=
§§ 
System
§§ "
.
§§" #
Web
§§# &
.
§§& '
HttpContext
§§' 2
.
§§2 3
Current
§§3 :
.
§§: ;
Session
§§; B
[
§§B C
$str
§§C G
]
§§G H
.
§§H I
ToString
§§I Q
(
§§Q R
)
§§R S
;
§§S T
SqlParameter
•• 
param1
•• 
=
••  !
new
••" %
SqlParameter
••& 2
(
••2 3
$str
••3 8
,
••8 9
idUser
••: @
)
••@ A
;
••A B)
DBPawnshopEntitiesConection
¶¶ '
db
¶¶( *
=
¶¶+ ,
new
¶¶- 0)
DBPawnshopEntitiesConection
¶¶1 L
(
¶¶L M
)
¶¶M N
;
¶¶N O
var
®® 
getSolicitude
®® 
=
®® 
db
®®  "
.
®®" #
Database
®®# +
.
®®+ ,
SqlQuery
®®, 4
<
®®4 5
tblSolicitude
®®5 B
>
®®B C
(
®®C D
$str
®®D \
,
®®\ ]
param1
®®^ d
)
®®d e
.
®®e f
ToList
®®f l
(
®®l m
)
®®m n
;
®®n o

SelectList
©© 
list
©© 
=
©© 
new
©© !

SelectList
©©" ,
(
©©, -
getSolicitude
©©- :
,
©©: ;
$str
©©< C
,
©©C D
$str
©©E R
)
©©R S
;
©©S T
ViewBag
™™ 
.
™™ 
Services
™™ 
=
™™ 
list
™™ #
;
™™# $
return
´´ 
View
´´ 
(
´´ 
)
´´ 
;
´´ 
}
¨¨ 	
[
ÆÆ 	
HttpPost
ÆÆ	 
]
ÆÆ 
public
ØØ 
ActionResult
ØØ 
UserDelSolicitud
ØØ ,
(
ØØ, -
tblSolicitude
ØØ- :

collection
ØØ; E
)
ØØE F
{
∞∞ 	
var
±± 
optionValue
±± 
=
±± 
Request
±± %
.
±±% &
Form
±±& *
[
±±* +
$str
±±+ 6
]
±±6 7
;
±±7 8
System
≤≤ 
.
≤≤ 
Web
≤≤ 
.
≤≤ 
HttpContext
≤≤ "
.
≤≤" #
Current
≤≤# *
.
≤≤* +
Session
≤≤+ 2
[
≤≤2 3
$str
≤≤3 :
]
≤≤: ;
=
≤≤< =
optionValue
≤≤> I
;
≤≤I J
return
≥≥ 
RedirectToAction
≥≥ #
(
≥≥# $
$str
≥≥$ 7
)
≥≥7 8
;
≥≥8 9
}
¥¥ 	
public
∂∂ 
ActionResult
∂∂ 
UserDelSolicitud2
∂∂ -
(
∂∂- .
)
∂∂. /
{
∑∑ 	
string
∏∏ 
idSol
∏∏ 
=
∏∏ 
System
∏∏ !
.
∏∏! "
Web
∏∏" %
.
∏∏% &
HttpContext
∏∏& 1
.
∏∏1 2
Current
∏∏2 9
.
∏∏9 :
Session
∏∏: A
[
∏∏A B
$str
∏∏B I
]
∏∏I J
.
∏∏J K
ToString
∏∏K S
(
∏∏S T
)
∏∏T U
;
∏∏U V
var
∫∫ 
db
∫∫ 
=
∫∫ 
new
∫∫ )
DBPawnshopEntitiesConection
∫∫ 4
(
∫∫4 5
)
∫∫5 6
;
∫∫6 7
SqlParameter
ªª 
param1
ªª 
=
ªª  !
new
ªª" %
SqlParameter
ªª& 2
(
ªª2 3
$str
ªª3 8
,
ªª8 9
idSol
ªª: ?
)
ªª? @
;
ªª@ A
var
ºº 
data
ºº 
=
ºº 
db
ºº 
.
ºº 
Database
ºº "
.
ºº" #
SqlQuery
ºº# +
<
ºº+ ,
tblSolicitude
ºº, 9
>
ºº9 :
(
ºº: ;
$str
ºº; R
,
ººR S
param1
ººT Z
)
ººZ [
.
ºº[ \
FirstOrDefault
ºº\ j
(
ººj k
)
ººk l
;
ººl m
return
ΩΩ 
View
ΩΩ 
(
ΩΩ 
data
ΩΩ 
)
ΩΩ 
;
ΩΩ 
}
ææ 	
[
¿¿ 	
HttpPost
¿¿	 
]
¿¿ 
public
¡¡ 
ActionResult
¡¡ 
UserDelSolicitud2
¡¡ -
(
¡¡- .
tblSolicitude
¡¡. ;

collection
¡¡< F
)
¡¡F G
{
¬¬ 	
string
ƒƒ 
idSol
ƒƒ 
=
ƒƒ 
System
ƒƒ !
.
ƒƒ! "
Web
ƒƒ" %
.
ƒƒ% &
HttpContext
ƒƒ& 1
.
ƒƒ1 2
Current
ƒƒ2 9
.
ƒƒ9 :
Session
ƒƒ: A
[
ƒƒA B
$str
ƒƒB I
]
ƒƒI J
.
ƒƒJ K
ToString
ƒƒK S
(
ƒƒS T
)
ƒƒT U
;
ƒƒU V
var
≈≈ 
db
≈≈ 
=
≈≈ 
new
≈≈ )
DBPawnshopEntitiesConection
≈≈ 4
(
≈≈4 5
)
≈≈5 6
;
≈≈6 7
SqlParameter
∆∆ 
param1
∆∆ 
=
∆∆  !
new
∆∆" %
SqlParameter
∆∆& 2
(
∆∆2 3
$str
∆∆3 8
,
∆∆8 9
idSol
∆∆: ?
)
∆∆? @
;
∆∆@ A
db
«« 
.
«« 
Database
«« 
.
«« 
ExecuteSqlCommand
«« )
(
««) *
$str
««* @
,
««@ A
param1
««B H
)
««H I
;
««I J
return
»» 
RedirectToAction
»» #
(
»»# $
$str
»»$ 6
)
»»6 7
;
»»7 8
}
…… 	
public
ÀÀ 
ActionResult
ÀÀ 
UserListSolicitud
ÀÀ -
(
ÀÀ- .
)
ÀÀ. /
{
ÃÃ 	)
DBPawnshopEntitiesConection
ÕÕ '
db
ÕÕ( *
=
ÕÕ+ ,
new
ÕÕ- 0)
DBPawnshopEntitiesConection
ÕÕ1 L
(
ÕÕL M
)
ÕÕM N
;
ÕÕN O
string
ŒŒ 
idUser
ŒŒ 
=
ŒŒ 
System
ŒŒ "
.
ŒŒ" #
Web
ŒŒ# &
.
ŒŒ& '
HttpContext
ŒŒ' 2
.
ŒŒ2 3
Current
ŒŒ3 :
.
ŒŒ: ;
Session
ŒŒ; B
[
ŒŒB C
$str
ŒŒC G
]
ŒŒG H
.
ŒŒH I
ToString
ŒŒI Q
(
ŒŒQ R
)
ŒŒR S
;
ŒŒS T
SqlParameter
œœ 
param1
œœ 
=
œœ  !
new
œœ" %
SqlParameter
œœ& 2
(
œœ2 3
$str
œœ3 8
,
œœ8 9
idUser
œœ: @
)
œœ@ A
;
œœA B
var
–– 
data
–– 
=
–– 
db
–– 
.
–– 
Database
–– "
.
––" #
SqlQuery
––# +
<
––+ ,
tblSolicitude
––, 9
>
––9 :
(
––: ;
$str
––; R
,
––R S
param1
––T Z
)
––Z [
;
––[ \
return
—— 
View
—— 
(
—— 
data
—— 
.
—— 
ToList
—— #
(
——# $
)
——$ %
)
——% &
;
——& '
}
““ 	
public
‘‘ 
ActionResult
‘‘ 
UserLastMessages
‘‘ ,
(
‘‘, -
)
‘‘- .
{
’’ 	)
DBPawnshopEntitiesConection
÷÷ '
db
÷÷( *
=
÷÷+ ,
new
÷÷- 0)
DBPawnshopEntitiesConection
÷÷1 L
(
÷÷L M
)
÷÷M N
;
÷÷N O
string
◊◊ 
idUser
◊◊ 
=
◊◊ 
System
◊◊ "
.
◊◊" #
Web
◊◊# &
.
◊◊& '
HttpContext
◊◊' 2
.
◊◊2 3
Current
◊◊3 :
.
◊◊: ;
Session
◊◊; B
[
◊◊B C
$str
◊◊C G
]
◊◊G H
.
◊◊H I
ToString
◊◊I Q
(
◊◊Q R
)
◊◊R S
;
◊◊S T
SqlParameter
ÿÿ 
param1
ÿÿ 
=
ÿÿ  !
new
ÿÿ" %
SqlParameter
ÿÿ& 2
(
ÿÿ2 3
$str
ÿÿ3 8
,
ÿÿ8 9
idUser
ÿÿ: @
)
ÿÿ@ A
;
ÿÿA B
var
ŸŸ 
data
ŸŸ 
=
ŸŸ 
db
ŸŸ 
.
ŸŸ 
Database
ŸŸ "
.
ŸŸ" #
SqlQuery
ŸŸ# +
<
ŸŸ+ ,
tblSolicitude
ŸŸ, 9
>
ŸŸ9 :
(
ŸŸ: ;
$str
ŸŸ; Q
,
ŸŸQ R
param1
ŸŸS Y
)
ŸŸY Z
;
ŸŸZ [
return
⁄⁄ 
View
⁄⁄ 
(
⁄⁄ 
data
⁄⁄ 
.
⁄⁄ 
ToList
⁄⁄ #
(
⁄⁄# $
)
⁄⁄$ %
)
⁄⁄% &
;
⁄⁄& '
}
€€ 	
public
‹‹ 
ActionResult
‹‹ 

DetailSoli
‹‹ &
(
‹‹& '
string
‹‹' -
id
‹‹. 0
)
‹‹0 1
{
›› 	)
DBPawnshopEntitiesConection
ﬁﬁ '
db
ﬁﬁ( *
=
ﬁﬁ+ ,
new
ﬁﬁ- 0)
DBPawnshopEntitiesConection
ﬁﬁ1 L
(
ﬁﬁL M
)
ﬁﬁM N
;
ﬁﬁN O
SqlParameter
ﬂﬂ 
param1
ﬂﬂ 
=
ﬂﬂ  !
new
ﬂﬂ" %
SqlParameter
ﬂﬂ& 2
(
ﬂﬂ2 3
$str
ﬂﬂ3 8
,
ﬂﬂ8 9
id
ﬂﬂ: <
)
ﬂﬂ< =
;
ﬂﬂ= >
var
·· 
dataList
·· 
=
·· 
db
·· 
.
·· 
Database
·· &
.
··& '
SqlQuery
··' /
<
··/ 0
tblSolicitude
··0 =
>
··= >
(
··> ?
$str
··? Q
,
··Q R
param1
··S Y
)
··Y Z
.
··Z [
ToList
··[ a
(
··a b
)
··b c
;
··c d
var
‚‚ 
tipos
‚‚ 
=
‚‚ 
dataList
‚‚  
.
‚‚  !
Select
‚‚! '
(
‚‚' (
x
‚‚( )
=>
‚‚* ,
x
‚‚- .
.
‚‚. /
solProdName
‚‚/ :
)
‚‚: ;
;
‚‚; <
var
„„ 
tipos2
„„ 
=
„„ 
dataList
„„ !
.
„„! "
Select
„„" (
(
„„( )
x
„„) *
=>
„„+ -
x
„„. /
.
„„/ 0
	solEstado
„„0 9
)
„„9 :
;
„„: ;
String
‰‰ 
solProdName
‰‰ 
=
‰‰  
tipos
‰‰! &
.
‰‰& '
First
‰‰' ,
(
‰‰, -
)
‰‰- .
.
‰‰. /
ToString
‰‰/ 7
(
‰‰7 8
)
‰‰8 9
;
‰‰9 :
String
ÂÂ 
	solEstado
ÂÂ 
=
ÂÂ 
tipos2
ÂÂ %
.
ÂÂ% &
First
ÂÂ& +
(
ÂÂ+ ,
)
ÂÂ, -
.
ÂÂ- .
ToString
ÂÂ. 6
(
ÂÂ6 7
)
ÂÂ7 8
;
ÂÂ8 9
string
ÁÁ 
idUser
ÁÁ 
=
ÁÁ 
System
ÁÁ "
.
ÁÁ" #
Web
ÁÁ# &
.
ÁÁ& '
HttpContext
ÁÁ' 2
.
ÁÁ2 3
Current
ÁÁ3 :
.
ÁÁ: ;
Session
ÁÁ; B
[
ÁÁB C
$str
ÁÁC G
]
ÁÁG H
.
ÁÁH I
ToString
ÁÁI Q
(
ÁÁQ R
)
ÁÁR S
;
ÁÁS T
SqlParameter
ËË 
param2
ËË 
=
ËË  !
new
ËË" %
SqlParameter
ËË& 2
(
ËË2 3
$str
ËË3 8
,
ËË8 9
idUser
ËË: @
)
ËË@ A
;
ËËA B
var
ÈÈ 
data
ÈÈ 
=
ÈÈ 
db
ÈÈ 
.
ÈÈ 
Database
ÈÈ "
.
ÈÈ" #
SqlQuery
ÈÈ# +
<
ÈÈ+ ,
tblInfoUser
ÈÈ, 7
>
ÈÈ7 8
(
ÈÈ8 9
$str
ÈÈ9 M
,
ÈÈM N
param2
ÈÈO U
)
ÈÈU V
.
ÈÈV W
ToList
ÈÈW ]
(
ÈÈ] ^
)
ÈÈ^ _
;
ÈÈ_ `
var
ÍÍ 
tipo1
ÍÍ 
=
ÍÍ 
data
ÍÍ 
.
ÍÍ 
Select
ÍÍ #
(
ÍÍ# $
x
ÍÍ$ %
=>
ÍÍ& (
x
ÍÍ) *
.
ÍÍ* +
usInfFirstName
ÍÍ+ 9
)
ÍÍ9 :
;
ÍÍ: ;
var
ÎÎ 
tipo2
ÎÎ 
=
ÎÎ 
data
ÎÎ 
.
ÎÎ 
Select
ÎÎ #
(
ÎÎ# $
x
ÎÎ$ %
=>
ÎÎ& (
x
ÎÎ) *
.
ÎÎ* +
usInfLastNameF
ÎÎ+ 9
)
ÎÎ9 :
;
ÎÎ: ;
var
ÏÏ 
tipo3
ÏÏ 
=
ÏÏ 
data
ÏÏ 
.
ÏÏ 
Select
ÏÏ #
(
ÏÏ# $
x
ÏÏ$ %
=>
ÏÏ& (
x
ÏÏ) *
.
ÏÏ* +
usInfLastNameM
ÏÏ+ 9
)
ÏÏ9 :
;
ÏÏ: ;
String
ÌÌ 
userName
ÌÌ 
=
ÌÌ 
tipo1
ÌÌ #
.
ÌÌ# $
First
ÌÌ$ )
(
ÌÌ) *
)
ÌÌ* +
.
ÌÌ+ ,
ToString
ÌÌ, 4
(
ÌÌ4 5
)
ÌÌ5 6
;
ÌÌ6 7
String
ÓÓ 
lstNameF
ÓÓ 
=
ÓÓ 
tipo2
ÓÓ #
.
ÓÓ# $
First
ÓÓ$ )
(
ÓÓ) *
)
ÓÓ* +
.
ÓÓ+ ,
ToString
ÓÓ, 4
(
ÓÓ4 5
)
ÓÓ5 6
;
ÓÓ6 7
String
ÔÔ 
lstNameM
ÔÔ 
=
ÔÔ 
tipo3
ÔÔ #
.
ÔÔ# $
First
ÔÔ$ )
(
ÔÔ) *
)
ÔÔ* +
.
ÔÔ+ ,
ToString
ÔÔ, 4
(
ÔÔ4 5
)
ÔÔ5 6
;
ÔÔ6 7
	@ViewData
ÒÒ 
[
ÒÒ 
$str
ÒÒ  
]
ÒÒ  !
=
ÒÒ" #
solProdName
ÒÒ$ /
;
ÒÒ/ 0
	@ViewData
ÚÚ 
[
ÚÚ 
$str
ÚÚ "
]
ÚÚ" #
=
ÚÚ$ %
	solEstado
ÚÚ& /
;
ÚÚ/ 0
	@ViewData
ÛÛ 
[
ÛÛ 
$str
ÛÛ  
]
ÛÛ  !
=
ÛÛ" #
userName
ÛÛ$ ,
;
ÛÛ, -
	@ViewData
ÙÙ 
[
ÙÙ 
$str
ÙÙ  
]
ÙÙ  !
=
ÙÙ" #
lstNameF
ÙÙ$ ,
;
ÙÙ, -
	@ViewData
ıı 
[
ıı 
$str
ıı  
]
ıı  !
=
ıı" #
lstNameM
ıı$ ,
;
ıı, -
return
ˆˆ 
View
ˆˆ 
(
ˆˆ 
)
ˆˆ 
;
ˆˆ 
}
˜˜ 	
}
¯¯ 
}˘˘ Ô
@C:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\Global.asax.cs
	namespace		 	
PawnshopUnchuMVC		
 
{

 
public 

class 
MvcApplication 
:  !
System" (
.( )
Web) ,
., -
HttpApplication- <
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
FilterConfig 
. !
RegisterGlobalFilters .
(. /
GlobalFilters/ <
.< =
Filters= D
)D E
;E F
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
BundleConfig 
. 
RegisterBundles (
(( )
BundleTable) 4
.4 5
Bundles5 <
)< =
;= >
} 	
} 
} √
RC:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\Models\ViewModels\listTblUser.cs
	namespace 	
PawnshopUnchuMVC
 
. 
Models !
.! "

ViewModels" ,
{ 
public 

class 
listTblUser 
{		 
public

 
string

 
ID

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
string 
	userEmail 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
userKey 
{ 
get  #
;# $
set% (
;( )
}* +
public 
TypeUser 
userType  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
public 

enum 
TypeUser 
{ 
Admin 
, 
User 
} 
} ˜
LC:\Users\Diomes\Desktop\Pawnshop\PawnshopUnchuMVC\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str +
)+ ,
], -
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str -
)- .
]. /
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *